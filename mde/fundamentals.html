<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fundamentals | Defender for Endpoint</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../assets/css/main.css">
</head>
<body>
    <div class="app-container">
        
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <a href="../index.html" class="sidebar-brand">
                <i class="fas fa-shield-alt"></i>
                <span>Nik's SIEM</span>
            </a>
            <button class="sidebar-toggle" onclick="toggleSidebar()" title="Collapse sidebar">
                <i class="fas fa-chevron-left"></i>
            </button>
        </div>
        
        <div class="sidebar-content">
            <!-- Platforms Section -->
            <div class="sidebar-section">
                <div class="sidebar-section-title">Platforms</div>
                <ul class="sidebar-nav">
                    <li class="sidebar-nav-item">
                        <a href="../xsiam/index.html" class="sidebar-nav-link" data-platform="xsiam">
                            <span class="platform-dot"></span>
                            <span>XSIAM</span>
                        </a>
                    </li>
                    <li class="sidebar-nav-item">
                        <a href="../splunk/index.html" class="sidebar-nav-link" data-platform="splunk">
                            <span class="platform-dot"></span>
                            <span>Splunk</span>
                        </a>
                    </li>
                    <li class="sidebar-nav-item">
                        <a href="../sentinel/index.html" class="sidebar-nav-link" data-platform="sentinel">
                            <span class="platform-dot"></span>
                            <span>Sentinel</span>
                        </a>
                    </li>
                    <li class="sidebar-nav-item">
                        <a href="../crowdstrike/index.html" class="sidebar-nav-link" data-platform="crowdstrike">
                            <span class="platform-dot"></span>
                            <span>CrowdStrike</span>
                        </a>
                    </li>
                    <li class="sidebar-nav-item">
                        <a href="../cortex/index.html" class="sidebar-nav-link" data-platform="cortex">
                            <span class="platform-dot"></span>
                            <span>Cortex XDR</span>
                        </a>
                    </li>
                    <li class="sidebar-nav-item">
                        <a href="../mde/index.html" class="sidebar-nav-link active" data-platform="mde">
                            <span class="platform-dot"></span>
                            <span>Defender for Endpoint</span>
                        </a>
                    </li>
                    <li class="sidebar-nav-item">
                        <a href="../operations/index.html" class="sidebar-nav-link" data-platform="operations">
                            <span class="platform-dot"></span>
                            <span>SOC Operations</span>
                        </a>
                    </li>
                </ul>
            </div>

            <div class="sidebar-divider"></div>
            
            <!-- Current Platform Pages -->
            <div class="sidebar-section">
                <div class="sidebar-section-title">Defender for Endpoint Pages</div>
                <ul class="sidebar-nav">
                    <li class="sidebar-nav-item">
                        <a href="advanced-hunting.html" class="sidebar-nav-link">
                            <i class="fas fa-terminal"></i>
                            <span>Advanced Hunting</span>
                        </a>
                    </li>
                    <li class="sidebar-nav-item">
                        <a href="alert-tuning.html" class="sidebar-nav-link">
                            <i class="fas fa-bell"></i>
                            <span>Alert Tuning</span>
                        </a>
                    </li>
                    <li class="sidebar-nav-item">
                        <a href="architecture.html" class="sidebar-nav-link">
                            <i class="fas fa-sitemap"></i>
                            <span>Architecture</span>
                        </a>
                    </li>
                    <li class="sidebar-nav-item">
                        <a href="fundamentals.html" class="sidebar-nav-link active">
                            <i class="fas fa-code"></i>
                            <span>Fundamentals</span>
                        </a>
                    </li>
                    <li class="sidebar-nav-item">
                        <a href="incident-management.html" class="sidebar-nav-link">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span>Incident Management</span>
                        </a>
                    </li>
                    <li class="sidebar-nav-item">
                        <a href="index.html" class="sidebar-nav-link">
                            <i class="fas fa-home"></i>
                            <span>Overview</span>
                        </a>
                    </li>
                    <li class="sidebar-nav-item">
                        <a href="kql-hunting.html" class="sidebar-nav-link">
                            <i class="fas fa-code"></i>
                            <span>Kql Hunting</span>
                        </a>
                    </li>
                    <li class="sidebar-nav-item">
                        <a href="onboarding-linux.html" class="sidebar-nav-link">
                            <i class="fas fa-download"></i>
                            <span>Onboarding Linux</span>
                        </a>
                    </li>
                    <li class="sidebar-nav-item">
                        <a href="onboarding-macos.html" class="sidebar-nav-link">
                            <i class="fas fa-download"></i>
                            <span>Onboarding Macos</span>
                        </a>
                    </li>
                    <li class="sidebar-nav-item">
                        <a href="onboarding-windows.html" class="sidebar-nav-link">
                            <i class="fas fa-download"></i>
                            <span>Onboarding Windows</span>
                        </a>
                    </li>
                    <li class="sidebar-nav-item">
                        <a href="response-actions.html" class="sidebar-nav-link">
                            <i class="fas fa-terminal"></i>
                            <span>Response Actions</span>
                        </a>
                    </li>
                    <li class="sidebar-nav-item">
                        <a href="troubleshooting.html" class="sidebar-nav-link">
                            <i class="fas fa-wrench"></i>
                            <span>Troubleshooting</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </aside>
    
    <!-- Sidebar Overlay (for mobile) -->
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>

        
        <!-- Main Content Wrapper -->
        <div class="main-wrapper" id="mainWrapper">
            <button class="mobile-toggle" onclick="toggleSidebar()" title="Open menu">
                <i class="fas fa-bars"></i>
            </button>
            
            <main class="main-content">
                <div class="breadcrumb">
                    <a href="../index.html">Home</a>
                    <span class="separator">/</span>
                    <a href="index.html">Defender for Endpoint</a>
                    <span class="separator">/</span>
                    <span class="current">Fundamentals</span>
                </div>

                <h1><i class="fas fa-book"></i> MDE Fundamentals</h1>
                <p class="lead">Master Microsoft Defender for Endpoint core concepts. Understand architecture, capabilities, data tables, alert types, and how MDE fits into the Microsoft security ecosystem.</p>

                <!-- MDE Overview -->
                <h2><i class="fas fa-info-circle"></i> MDE Overview</h2>
                <div class="config-section">
                    <h4>What is Microsoft Defender for Endpoint?</h4>
                    <div class="code-block">Microsoft Defender for Endpoint (MDE):

An enterprise endpoint security platform designed to help 
networks prevent, detect, investigate, and respond to 
advanced threats.

CORE CAPABILITIES:
├── Threat & Vulnerability Management (TVM)
├── Attack Surface Reduction (ASR)
├── Next-Generation Protection (NGP)
├── Endpoint Detection & Response (EDR)
├── Automated Investigation & Remediation (AIR)
└── Microsoft Threat Experts

PLATFORM INTEGRATION:
├── Microsoft 365 Defender (XDR)
├── Microsoft Sentinel (SIEM)
├── Microsoft Intune (MDM)
├── Azure Active Directory
├── Microsoft Defender for Cloud
└── Microsoft Defender for Identity

SUPPORTED PLATFORMS:
├── Windows 10/11
├── Windows Server 2012 R2 - 2022
├── macOS 11+
├── Linux (RHEL, Ubuntu, Debian, etc.)
├── Android
└── iOS</div>

                    <h4>Plan Comparison</h4>
                    <table class="styled-table">
                        <thead>
                            <tr><th>Feature</th><th>P1</th><th>P2</th></tr>
                        </thead>
                        <tbody>
                            <tr><td><strong>Next-Gen Protection</strong></td><td>✓</td><td>✓</td></tr>
                            <tr><td><strong>Attack Surface Reduction</strong></td><td>✓</td><td>✓</td></tr>
                            <tr><td><strong>Device Control</strong></td><td>✓</td><td>✓</td></tr>
                            <tr><td><strong>Endpoint Firewall</strong></td><td>✓</td><td>✓</td></tr>
                            <tr><td><strong>Network Protection</strong></td><td>✓</td><td>✓</td></tr>
                            <tr><td><strong>Web Content Filtering</strong></td><td>✓</td><td>✓</td></tr>
                            <tr><td><strong>Endpoint Detection & Response</strong></td><td>✗</td><td>✓</td></tr>
                            <tr><td><strong>Advanced Hunting</strong></td><td>✗</td><td>✓</td></tr>
                            <tr><td><strong>Threat Analytics</strong></td><td>✗</td><td>✓</td></tr>
                            <tr><td><strong>Automated Investigation</strong></td><td>✗</td><td>✓</td></tr>
                            <tr><td><strong>Threat & Vulnerability Mgmt</strong></td><td>✗</td><td>✓</td></tr>
                        </tbody>
                    </table>
                </div>

                <!-- Architecture -->
                <h2><i class="fas fa-sitemap"></i> Architecture</h2>
                <div class="config-section">
                    <h4>Component Architecture</h4>
                    <div class="arch-diagram">
┌─────────────────────────────────────────────────────────────────────────────────┐
│                      MICROSOFT DEFENDER FOR ENDPOINT                            │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│   ENDPOINTS                          CLOUD SERVICES                             │
│   ─────────                          ──────────────                             │
│                                                                                 │
│   ┌──────────┐                      ┌───────────────────────────────────────┐  │
│   │ Windows  │──────────────────────│         MDE CLOUD SERVICE             │  │
│   │ Sensor   │     HTTPS/443        │                                       │  │
│   │ (SENSE)  │                      │  ┌─────────┐  ┌─────────┐            │  │
│   └──────────┘                      │  │Detection│  │ Threat  │            │  │
│                                      │  │ Engine  │  │  Intel  │            │  │
│   ┌──────────┐                      │  └─────────┘  └─────────┘            │  │
│   │  macOS   │──────────────────────│                                       │  │
│   │  Agent   │                      │  ┌─────────┐  ┌─────────┐            │  │
│   └──────────┘                      │  │Analytics│  │   ML    │            │  │
│                                      │  │ Engine  │  │ Models  │            │  │
│   ┌──────────┐                      │  └─────────┘  └─────────┘            │  │
│   │  Linux   │──────────────────────│                                       │  │
│   │  Agent   │                      └───────────────────────────────────────┘  │
│   └──────────┘                                         │                       │
│                                                        │                       │
├────────────────────────────────────────────────────────┼───────────────────────┤
│                                                        │                       │
│   MANAGEMENT                                           ▼                       │
│   ──────────                         ┌───────────────────────────────────────┐ │
│                                      │      MICROSOFT 365 DEFENDER           │ │
│   ┌──────────┐                      │         security.microsoft.com         │ │
│   │ Intune   │                      │                                       │ │
│   │(Policies)│◀────────────────────▶│  ┌─────────┐  ┌─────────┐  ┌───────┐ │ │
│   └──────────┘                      │  │Incidents│  │ Alerts  │  │Hunting│ │ │
│                                      │  └─────────┘  └─────────┘  └───────┘ │ │
│   ┌──────────┐                      │                                       │ │
│   │  SCCM    │                      │  ┌─────────┐  ┌─────────┐  ┌───────┐ │ │
│   │(Deploy)  │                      │  │Devices  │  │  TVM    │  │Reports│ │ │
│   └──────────┘                      │  └─────────┘  └─────────┘  └───────┘ │ │
│                                      │                                       │ │
└──────────────────────────────────────┴───────────────────────────────────────┴─┘
                    </div>

                    <h4>Data Flow</h4>
                    <div class="code-block">MDE Data Flow:

1. ENDPOINT TELEMETRY COLLECTION
   └── Windows Sensor (SENSE service) collects:
       ├── Process creation/termination
       ├── Network connections
       ├── File operations
       ├── Registry changes
       ├── Logon events
       └── Memory activity

2. DATA TRANSMISSION
   └── Encrypted HTTPS to MDE cloud
       ├── winatp-gw-cus.microsoft.com
       ├── winatp-gw-eus.microsoft.com
       └── (Regional endpoints)

3. CLOUD PROCESSING
   └── Detection and analytics:
       ├── Behavioral analysis
       ├── ML model scoring
       ├── Threat intelligence correlation
       └── Alert generation

4. ALERT/INCIDENT CREATION
   └── Grouped into incidents
       ├── Correlated across endpoints
       ├── MITRE ATT&CK mapped
       └── Severity assigned

5. DATA RETENTION
   └── Default: 180 days
       ├── Configurable: 30-180 days
       ├── Advanced hunting tables
       └── Export to Sentinel optional</div>
                </div>

                <!-- Key Capabilities -->
                <h2><i class="fas fa-shield-alt"></i> Key Capabilities</h2>
                <div class="config-section">
                    <h4>Threat & Vulnerability Management</h4>
                    <div class="code-block">Threat & Vulnerability Management (TVM):

CAPABILITIES:
├── Asset discovery and inventory
├── Vulnerability assessment
├── Security configuration assessment
├── Risk-based prioritization
├── Remediation tracking
└── Security baselines

EXPOSURE SCORE:
├── 0-100 scale (lower is better)
├── Based on:
│   ├── Vulnerable software
│   ├── Security misconfigurations
│   ├── Active threats
│   └── Exposure to exploits

SECURE SCORE FOR DEVICES:
├── Measures security posture
├── Recommendations for improvement
├── Benchmarking against peers
└── Tracks improvement over time

PATH: security.microsoft.com → 
      Vulnerability management → Dashboard</div>

                    <h4>Attack Surface Reduction</h4>
                    <div class="code-block">Attack Surface Reduction (ASR) Rules:

AVAILABLE RULES:
├── Block executable content from email/webmail
├── Block Office apps from creating child processes
├── Block Office apps from creating executable content
├── Block Office apps from injecting into processes
├── Block JavaScript/VBScript from launching executables
├── Block execution of obfuscated scripts
├── Block Win32 API calls from Office macros
├── Block credential stealing from LSASS
├── Block process creations from PSExec/WMI
├── Block untrusted/unsigned processes from USB
├── Block Office communication apps from creating child processes
├── Block Adobe Reader from creating child processes
├── Block persistence through WMI subscription
├── Block abuse of exploited vulnerable signed drivers
└── Use advanced protection against ransomware

MODES:
├── Disabled: Rule not active
├── Block: Prevents action, logs event
├── Audit: Allows action, logs event
└── Warn: Prompts user, allows override

DEPLOYMENT:
├── Intune → Endpoint security → ASR
├── GPO → Computer Configuration → Admin Templates → 
│         Windows Components → Defender Antivirus
└── PowerShell: Set-MpPreference -AttackSurfaceReductionRules_Ids</div>

                    <h4>Endpoint Detection & Response</h4>
                    <div class="code-block">EDR Capabilities:

DETECTION:
├── Real-time behavioral detection
├── ML-based threat identification
├── Cloud-delivered protection
├── Threat intelligence matching
└── Anomaly detection

INVESTIGATION:
├── Alert queue with severity/impact
├── Device timeline (activity log)
├── Process tree visualization
├── File/IP/URL investigation
├── Advanced hunting (KQL)
└── Incident correlation

RESPONSE:
├── Isolate device
├── Restrict app execution
├── Run antivirus scan
├── Collect investigation package
├── Live response (remote shell)
├── Block file (hash)
└── Automated investigation

AUTOMATED INVESTIGATION:
├── Auto-investigates alerts
├── Analyzes related artifacts
├── Determines if threat is real
├── Suggests/takes remediation
└── Reduces analyst workload</div>
                </div>

                <!-- Advanced Hunting Tables -->
                <h2><i class="fas fa-database"></i> Advanced Hunting Tables</h2>
                <div class="config-section">
                    <h4>Key Tables</h4>
                    <div class="code-block">MDE Advanced Hunting Tables:

DEVICE TABLES:
├── DeviceInfo: Device inventory, OS, health
├── DeviceNetworkInfo: Network adapters, IPs
├── DeviceProcessEvents: Process execution
├── DeviceNetworkEvents: Network connections
├── DeviceFileEvents: File operations
├── DeviceRegistryEvents: Registry changes
├── DeviceLogonEvents: Authentication events
├── DeviceImageLoadEvents: DLL/module loads
└── DeviceEvents: Other security events

ALERT/INCIDENT TABLES:
├── AlertInfo: Alert details
├── AlertEvidence: Evidence linked to alerts
└── DeviceAlertEvents: Device-alert mapping

VULNERABILITY TABLES:
├── DeviceTvmSoftwareInventory: Installed software
├── DeviceTvmSoftwareVulnerabilities: Known CVEs
├── DeviceTvmSecureConfigurationAssessment: Misconfigs
└── DeviceTvmSecureConfigurationAssessmentKB: Config KBs

IDENTITY TABLES (with Defender for Identity):
├── IdentityLogonEvents: Domain logons
├── IdentityQueryEvents: LDAP/directory queries
├── IdentityDirectoryEvents: AD changes
└── IdentityInfo: User/device info</div>

                    <h4>Common Queries</h4>
                    <div class="code-block">// Process execution timeline
DeviceProcessEvents
| where DeviceName == "targetdevice"
| where Timestamp > ago(24h)
| project Timestamp, FileName, ProcessCommandLine, 
          InitiatingProcessFileName, AccountName
| order by Timestamp desc

// Network connections from device
DeviceNetworkEvents
| where DeviceName == "targetdevice"
| where Timestamp > ago(24h)
| where RemoteIPType == "Public"
| summarize ConnectionCount = count() by RemoteIP, RemotePort
| order by ConnectionCount desc

// File creation in suspicious locations
DeviceFileEvents
| where Timestamp > ago(24h)
| where ActionType == "FileCreated"
| where FolderPath has_any ("\\Temp\\", "\\AppData\\Local\\", "\\Downloads\\")
| where FileName endswith ".exe" or FileName endswith ".dll"
| project Timestamp, DeviceName, FileName, FolderPath, SHA256

// PowerShell execution with encoded commands
DeviceProcessEvents
| where Timestamp > ago(24h)
| where FileName == "powershell.exe"
| where ProcessCommandLine has_any ("-enc", "-encodedcommand", "-e ")
| project Timestamp, DeviceName, AccountName, ProcessCommandLine

// Lateral movement detection
DeviceLogonEvents
| where Timestamp > ago(24h)
| where LogonType == "RemoteInteractive" or LogonType == "Network"
| where IsLocalAdmin == true
| summarize LogonCount = count(), Devices = make_set(DeviceName) 
  by AccountName
| where LogonCount > 3</div>
                </div>

                <!-- Alert Types -->
                <h2><i class="fas fa-bell"></i> Alert Types & Severity</h2>
                <div class="config-section">
                    <div class="code-block">MDE Alert Severity Levels:

INFORMATIONAL:
├── Low-risk events
├── Awareness/tracking only
├── May not require immediate action
└── Example: Unusual but not malicious activity

LOW:
├── Minor security events
├── Limited impact potential
├── Review within 24 hours
└── Example: Suspicious file detected but blocked

MEDIUM:
├── Moderate threat indicators
├── Requires investigation
├── Review within 4 hours
└── Example: Suspicious process behavior

HIGH:
├── Significant threat detected
├── Immediate investigation needed
├── Review within 1 hour
└── Example: Known malware, credential theft attempt

ALERT CATEGORIES:
├── Malware: Viruses, trojans, ransomware
├── UnwantedSoftware: PUPs, adware
├── Reconnaissance: Network scanning, enumeration
├── InitialAccess: Phishing, exploitation
├── Execution: Script execution, malicious processes
├── Persistence: Registry modification, scheduled tasks
├── PrivilegeEscalation: Token manipulation, exploit
├── DefenseEvasion: Obfuscation, disabling security
├── CredentialAccess: Credential dumping, keylogging
├── Discovery: System/network enumeration
├── LateralMovement: Remote execution, pass-the-hash
├── Collection: Data staging, screen capture
├── Exfiltration: Data transfer, archive creation
└── CommandAndControl: C2 communication, beaconing</div>
                </div>

                <!-- Integration -->
                <h2><i class="fas fa-plug"></i> Microsoft 365 Defender Integration</h2>
                <div class="config-section">
                    <div class="code-block">Microsoft 365 Defender XDR Integration:

UNIFIED PLATFORM:
├── Single portal: security.microsoft.com
├── Unified incident queue
├── Cross-product correlation
└── Shared hunting experience

INTEGRATED PRODUCTS:
├── Microsoft Defender for Endpoint (devices)
├── Microsoft Defender for Office 365 (email)
├── Microsoft Defender for Identity (identity)
├── Microsoft Defender for Cloud Apps (SaaS)
└── Azure AD Identity Protection

CROSS-PRODUCT CORRELATION:
Example: Phishing → Endpoint → Lateral Movement
├── Email with malicious link received (MDO)
├── User clicks link, malware downloaded (MDE)
├── Attacker moves laterally (MDI/MDE)
└── → Single correlated incident

SENTINEL INTEGRATION:
├── Native connector in Content Hub
├── Streams alerts/incidents to Sentinel
├── Raw data via M365 Defender connector
├── Advanced hunting data available
└── Unified SOC experience</div>
                </div>

                <!-- Interview Questions -->
                <h2><i class="fas fa-comments"></i> Interview Questions</h2>
                <div class="qa-section">
                    <div class="qa-item">
                        <button class="qa-question"><i class="fas fa-lightbulb"></i> Q: What are the main components of MDE?</button>
                        <div class="qa-answer">
                            <ul>
                                <li><strong>TVM:</strong> Threat & Vulnerability Management - asset inventory, CVE detection</li>
                                <li><strong>ASR:</strong> Attack Surface Reduction - preventive rules</li>
                                <li><strong>NGP:</strong> Next-Gen Protection - antimalware</li>
                                <li><strong>EDR:</strong> Endpoint Detection & Response - behavioral detection, investigation</li>
                                <li><strong>AIR:</strong> Automated Investigation & Remediation</li>
                            </ul>
                        </div>
                    </div>
                    <div class="qa-item">
                        <button class="qa-question"><i class="fas fa-lightbulb"></i> Q: What's the difference between MDE P1 and P2?</button>
                        <div class="qa-answer">
                            <p><strong>P1:</strong> Prevention-focused - NGP, ASR, device control, network protection</p>
                            <p><strong>P2:</strong> Full EDR capabilities - behavioral detection, advanced hunting, automated investigation, threat analytics, TVM</p>
                            <p>P2 is required for SOC operations and threat hunting.</p>
                        </div>
                    </div>
                    <div class="qa-item">
                        <button class="qa-question"><i class="fas fa-lightbulb"></i> Q: How does MDE integrate with Sentinel?</button>
                        <div class="qa-answer">
                            <ol>
                                <li>Enable M365 Defender connector in Sentinel</li>
                                <li>Alerts and incidents stream to Sentinel</li>
                                <li>Raw data available via connector (optional)</li>
                                <li>Advanced hunting data queryable in Sentinel</li>
                                <li>Unified incident management across platforms</li>
                            </ol>
                        </div>
                    </div>
                    <div class="qa-item">
                        <button class="qa-question"><i class="fas fa-lightbulb"></i> Q: What are ASR rules and give examples?</button>
                        <div class="qa-answer">
                            <p><strong>ASR (Attack Surface Reduction)</strong> rules prevent common attack techniques:</p>
                            <ul>
                                <li>Block Office from creating child processes</li>
                                <li>Block credential stealing from LSASS</li>
                                <li>Block execution of obfuscated scripts</li>
                                <li>Block executable content from email</li>
                            </ul>
                            <p>Deploy via Intune or GPO in Audit mode first, then Block.</p>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <script>
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const mainWrapper = document.getElementById('mainWrapper');
            const overlay = document.getElementById('sidebarOverlay');
            
            if (window.innerWidth <= 768) {
                sidebar.classList.toggle('open');
                overlay.classList.toggle('active');
            } else {
                sidebar.classList.toggle('collapsed');
                mainWrapper.classList.toggle('expanded');
            }
        }
        
        // Q&A toggle
        document.querySelectorAll('.qa-question').forEach(btn => {
            btn.addEventListener('click', () => {
                const answer = btn.nextElementSibling;
                const isOpen = answer.style.display === 'block';
                document.querySelectorAll('.qa-answer').forEach(a => a.style.display = 'none');
                if (!isOpen) answer.style.display = 'block';
            });
        });
        
        // Close sidebar on resize
        window.addEventListener('resize', () => {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebarOverlay');
            if (window.innerWidth > 768) {
                sidebar.classList.remove('open');
                overlay.classList.remove('active');
            }
        });
    </script>
</body>
</html>