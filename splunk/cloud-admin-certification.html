<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Splunk Cloud Admin Certification | Complete Prep Guide</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../assets/css/main.css">
    <style>
        .cert-domain { background: linear-gradient(135deg, #1a1f35 0%, #2d3555 100%); border: 1px solid #404968; border-radius: 12px; padding: 24px; margin: 20px 0; }
        .cert-domain h3 { color: #58a6ff; margin-top: 0; border-bottom: 2px solid #58a6ff; padding-bottom: 10px; }
        .domain-weight { background: #238636; color: white; padding: 4px 12px; border-radius: 20px; font-size: 0.85em; float: right; }
        .objective-list { list-style: none; padding: 0; }
        .objective-list li { padding: 12px 16px; margin: 8px 0; background: #0d1117; border-radius: 6px; border-left: 4px solid #30363d; }
        .objective-list li.covered { border-left-color: #238636; }
        .objective-list li.partial { border-left-color: #d29922; }
        .status-icon { margin-right: 10px; }
        .exam-tip { background: linear-gradient(135deg, #1a472a 0%, #2d5a3d 100%); border: 1px solid #3d8b5a; border-radius: 8px; padding: 16px; margin: 16px 0; }
        .exam-tip h4 { color: #7ce38b; margin-top: 0; }
        .practice-q { background: #161b22; border: 1px solid #30363d; border-radius: 8px; padding: 16px; margin: 12px 0; }
        .practice-q .question { color: #c9d1d9; font-weight: 600; margin-bottom: 12px; }
        .practice-q .options label { display: block; padding: 8px; margin: 4px 0; border-radius: 4px; cursor: pointer; }
        .practice-q .options label:hover { background: #21262d; }
        .compare-table { width: 100%; border-collapse: collapse; margin: 16px 0; }
        .compare-table th, .compare-table td { padding: 12px; text-align: left; border: 1px solid #30363d; }
        .compare-table th { background: #161b22; color: #58a6ff; }
        .compare-table tr:nth-child(even) { background: #0d1117; }
        .cloud-feature { background: #0d1117; border: 1px solid #30363d; border-radius: 8px; padding: 16px; margin: 12px 0; }
        .cloud-feature h5 { color: #58a6ff; margin-top: 0; }
    </style>
</head>
<body>
    <div class="app-container">
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="../index.html" class="sidebar-brand">
                    <i class="fas fa-shield-alt"></i>
                    <span>Nik's SIEM</span>
                </a>
            </div>
            <div class="sidebar-content">
                <div class="sidebar-section">
                    <div class="sidebar-section-title">Certification Prep</div>
                    <ul class="sidebar-nav">
                        <li class="sidebar-nav-item"><a href="power-user-certification.html" class="sidebar-nav-link"><i class="fas fa-certificate"></i><span>Power User Cert</span></a></li>
                        <li class="sidebar-nav-item"><a href="admin-certification.html" class="sidebar-nav-link"><i class="fas fa-user-cog"></i><span>Admin Cert</span></a></li>
                        <li class="sidebar-nav-item"><a href="es-admin-certification.html" class="sidebar-nav-link"><i class="fas fa-shield-alt"></i><span>ES Admin Cert</span></a></li>
                        <li class="sidebar-nav-item"><a href="cloud-admin-certification.html" class="sidebar-nav-link active"><i class="fas fa-cloud"></i><span>Cloud Admin Cert</span></a></li>
                    </ul>
                </div>
            </div>
        </aside>
        
        <div class="main-wrapper" id="mainWrapper">
            <main class="main-content">
                <h1><i class="fas fa-cloud"></i> Splunk Cloud Certified Admin</h1>
                <p class="lead">Complete preparation guide for SPLK-2003 certification exam. Master Splunk Cloud administration, ACS API, data onboarding, and cloud-specific configurations.</p>

                <!-- Exam Overview -->
                <div class="info-box info-box-info">
                    <h4>Exam Details - SPLK-2003</h4>
                    <table class="compact-table">
                        <tr><td><strong>Duration:</strong></td><td>57 minutes</td></tr>
                        <tr><td><strong>Questions:</strong></td><td>60 multiple choice</td></tr>
                        <tr><td><strong>Passing Score:</strong></td><td>70%</td></tr>
                        <tr><td><strong>Prerequisites:</strong></td><td>Splunk Enterprise Certified Admin</td></tr>
                        <tr><td><strong>Recommended Experience:</strong></td><td>6-12 months Splunk Cloud administration</td></tr>
                        <tr><td><strong>Cost:</strong></td><td>$130 USD</td></tr>
                    </table>
                </div>

                <!-- Cloud Experience Comparison -->
                <div class="cert-domain">
                    <h3>Splunk Cloud Experiences: Victoria vs Classic</h3>
                    
                    <table class="compare-table">
                        <thead>
                            <tr>
                                <th>Feature</th>
                                <th>Victoria Experience</th>
                                <th>Classic Experience</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Architecture</strong></td>
                                <td>Multi-tenant, containerized</td>
                                <td>Single-tenant, VM-based</td>
                            </tr>
                            <tr>
                                <td><strong>Self-Service</strong></td>
                                <td>More self-service via ACS</td>
                                <td>Limited, requires support tickets</td>
                            </tr>
                            <tr>
                                <td><strong>Index Management</strong></td>
                                <td>Self-service via ACS API</td>
                                <td>Support ticket required</td>
                            </tr>
                            <tr>
                                <td><strong>HEC Tokens</strong></td>
                                <td>Self-service via ACS API</td>
                                <td>Support ticket required</td>
                            </tr>
                            <tr>
                                <td><strong>App Installation</strong></td>
                                <td>Self-service (vetted apps)</td>
                                <td>Support ticket required</td>
                            </tr>
                            <tr>
                                <td><strong>Data Retention</strong></td>
                                <td>Configurable per index</td>
                                <td>Account-wide default</td>
                            </tr>
                            <tr>
                                <td><strong>Private Connectivity</strong></td>
                                <td>AWS PrivateLink, Azure Private Link</td>
                                <td>VPN, IP allowlisting</td>
                            </tr>
                            <tr>
                                <td><strong>Ingest Actions</strong></td>
                                <td>Available</td>
                                <td>Not available</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="exam-tip">
                        <h4><i class="fas fa-lightbulb"></i> Exam Tip</h4>
                        <p>The exam focuses heavily on <strong>Victoria Experience</strong> capabilities. Know what you CAN do self-service (indexes, HEC, apps) vs what requires support tickets.</p>
                    </div>
                </div>

                <!-- Domain 1: Cloud Architecture -->
                <div class="cert-domain">
                    <h3><span class="domain-weight">10%</span>Domain 1: Splunk Cloud Architecture</h3>
                    <ul class="objective-list">
                        <li class="covered"><span class="status-icon">✅</span><strong>1.1</strong> Understand Splunk Cloud deployment models</li>
                        <li class="covered"><span class="status-icon">✅</span><strong>1.2</strong> Identify Splunk Cloud components</li>
                        <li class="covered"><span class="status-icon">✅</span><strong>1.3</strong> Understand shared responsibility model</li>
                        <li class="covered"><span class="status-icon">✅</span><strong>1.4</strong> Understand data residency requirements</li>
                    </ul>

                    <div class="config-block">
                        <div class="config-block-header">
                            <span class="config-title">Splunk Cloud Architecture</span>
                        </div>
                        <pre><code>SPLUNK CLOUD ARCHITECTURE
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│                           SPLUNK CLOUD PLATFORM                              │
│                      (Managed by Splunk in AWS/GCP/Azure)                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  ┌─────────────┐    ┌─────────────────┐    ┌─────────────────┐             │
│  │  Search     │    │   Indexer       │    │   SmartStore    │             │
│  │  Head       │◀──▶│   Cluster       │◀──▶│   (S3/Blob)     │             │
│  │  Cluster    │    │   (3+ nodes)    │    │                 │             │
│  └─────────────┘    └─────────────────┘    └─────────────────┘             │
│         │                   ▲                                               │
│         │                   │                                               │
├─────────┼───────────────────┼───────────────────────────────────────────────┤
│         │                   │                                               │
│         ▼                   │                                               │
│  ┌─────────────┐    ┌───────┴───────┐                                      │
│  │  Splunk     │    │     HEC       │     ← HTTPS (443)                    │
│  │  Web UI     │    │   Endpoint    │                                      │
│  └─────────────┘    └───────────────┘                                      │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
                                    ▲
                                    │ Data Ingestion
                                    │
┌─────────────────────────────────────────────────────────────────────────────┐
│                          CUSTOMER ENVIRONMENT                                │
│                                                                              │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐                     │
│  │  Universal  │    │   Heavy     │    │  Direct     │                     │
│  │  Forwarder  │    │  Forwarder  │    │  HEC Send   │                     │
│  └─────────────┘    └─────────────┘    └─────────────┘                     │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘

DEPLOYMENT OPTIONS:
─────────────────────────────────────────────────────────────────────────────
• AWS Regions: us-east-1, us-west-2, eu-west-1, ap-southeast-2, etc.
• GCP Regions: us-central1, europe-west1, etc.
• Azure Regions: Limited availability

DATA RESIDENCY:
─────────────────────────────────────────────────────────────────────────────
• Data stays in selected region
• Cannot move data between regions after deployment
• Compliance: FedRAMP, SOC2, HIPAA, GDPR (region-dependent)</code></pre>
                    </div>

                    <div class="config-block">
                        <div class="config-block-header">
                            <span class="config-title">Shared Responsibility Model</span>
                        </div>
                        <pre><code>SHARED RESPONSIBILITY MODEL
═══════════════════════════════════════════════════════════════════════════════

SPLUNK MANAGES:
─────────────────────────────────────────────────────────────────────────────
✓ Infrastructure (servers, storage, network)
✓ Splunk software updates and patches
✓ High availability and disaster recovery
✓ Security of cloud infrastructure
✓ Compliance certifications (SOC2, FedRAMP, etc.)
✓ Backups of indexed data
✓ Performance monitoring of infrastructure

CUSTOMER MANAGES:
─────────────────────────────────────────────────────────────────────────────
✓ Data ingestion configuration (forwarders, HEC)
✓ User management and authentication
✓ Knowledge objects (searches, dashboards, reports)
✓ App configuration (within vetted apps)
✓ Index strategy and retention policies
✓ Data quality and parsing (props/transforms via support)
✓ Alert configuration
✓ Security of data in transit (from sources to Splunk)

REQUIRES SUPPORT TICKET (Classic) / ACS (Victoria):
─────────────────────────────────────────────────────────────────────────────
• Index creation/modification
• HEC token management
• props.conf / transforms.conf changes
• outputs.conf changes for forwarders
• Private connectivity setup
• Capacity changes</code></pre>
                    </div>
                </div>

                <!-- Domain 2: ACS API -->
                <div class="cert-domain">
                    <h3><span class="domain-weight">20%</span>Domain 2: Admin Config Service (ACS) API</h3>
                    <ul class="objective-list">
                        <li class="covered"><span class="status-icon">✅</span><strong>2.1</strong> Understand ACS capabilities</li>
                        <li class="covered"><span class="status-icon">✅</span><strong>2.2</strong> Authenticate to ACS API</li>
                        <li class="covered"><span class="status-icon">✅</span><strong>2.3</strong> Manage indexes via ACS</li>
                        <li class="covered"><span class="status-icon">✅</span><strong>2.4</strong> Manage HEC tokens via ACS</li>
                        <li class="covered"><span class="status-icon">✅</span><strong>2.5</strong> Manage apps via ACS</li>
                    </ul>

                    <div class="config-block">
                        <div class="config-block-header">
                            <span class="config-title">ACS API Overview</span>
                        </div>
                        <pre><code>ADMIN CONFIG SERVICE (ACS) API
═══════════════════════════════════════════════════════════════════════════════

PURPOSE: Self-service administration for Splunk Cloud (Victoria)

BASE URL: https://admin.splunk.com/{stack}/adminconfig/v2/

AUTHENTICATION:
─────────────────────────────────────────────────────────────────────────────
Method 1: Bearer Token (recommended)
curl -H "Authorization: Bearer &lt;JWT_TOKEN&gt;" \
     https://admin.splunk.com/mystack/adminconfig/v2/indexes

Method 2: Splunk Auth Token
curl -H "Authorization: Splunk &lt;SPLUNK_TOKEN&gt;" \
     https://admin.splunk.com/mystack/adminconfig/v2/indexes

# Get JWT token from Splunk Cloud UI:
Settings → Tokens → New Token

ACS ENDPOINTS:
─────────────────────────────────────────────────────────────────────────────
/indexes              - Manage indexes
/inputs/http          - Manage HEC tokens
/apps/victoria        - Manage apps
/users                - Manage users
/roles                - Manage roles
/deployment/tokens    - Deployment server tokens
/limits               - View/modify limits</code></pre>
                    </div>

                    <div class="config-block">
                        <div class="config-block-header">
                            <span class="config-title">Index Management via ACS</span>
                        </div>
                        <pre><code># List all indexes
curl -X GET \
  -H "Authorization: Bearer $TOKEN" \
  "https://admin.splunk.com/$STACK/adminconfig/v2/indexes"

# Create new index
curl -X POST \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "security",
    "datatype": "event",
    "searchableDays": 90,
    "maxDataSizeMB": 512000,
    "splunk_archival_retention_days": 365
  }' \
  "https://admin.splunk.com/$STACK/adminconfig/v2/indexes"

# Update index retention
curl -X PATCH \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "searchableDays": 180
  }' \
  "https://admin.splunk.com/$STACK/adminconfig/v2/indexes/security"

# Delete index (careful!)
curl -X DELETE \
  -H "Authorization: Bearer $TOKEN" \
  "https://admin.splunk.com/$STACK/adminconfig/v2/indexes/test_index"

INDEX PARAMETERS:
─────────────────────────────────────────────────────────────────────────────
• name: Index name (lowercase, no spaces)
• datatype: "event" or "metric"
• searchableDays: Hot/warm retention (searchable)
• maxDataSizeMB: Maximum index size
• splunk_archival_retention_days: Cold storage retention (DDSS)</code></pre>
                    </div>

                    <div class="config-block">
                        <div class="config-block-header">
                            <span class="config-title">HEC Token Management via ACS</span>
                        </div>
                        <pre><code># List HEC tokens
curl -X GET \
  -H "Authorization: Bearer $TOKEN" \
  "https://admin.splunk.com/$STACK/adminconfig/v2/inputs/http"

# Create HEC token
curl -X POST \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "app_logs_token",
    "defaultIndex": "app_logs",
    "defaultSource": "http:app_logs",
    "defaultSourcetype": "json",
    "disabled": false,
    "useACK": true,
    "allowedIndexes": ["app_logs", "app_errors"]
  }' \
  "https://admin.splunk.com/$STACK/adminconfig/v2/inputs/http"

# Response includes token value:
{
  "name": "app_logs_token",
  "token": "12345678-1234-1234-1234-123456789012",
  "defaultIndex": "app_logs",
  ...
}

# Update HEC token
curl -X PATCH \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "disabled": true
  }' \
  "https://admin.splunk.com/$STACK/adminconfig/v2/inputs/http/app_logs_token"

# Delete HEC token
curl -X DELETE \
  -H "Authorization: Bearer $TOKEN" \
  "https://admin.splunk.com/$STACK/adminconfig/v2/inputs/http/app_logs_token"</code></pre>
                    </div>

                    <div class="practice-q">
                        <div class="question">Q: Which ACS endpoint would you use to create a new index in Splunk Cloud?</div>
                        <div class="options">
                            <label><input type="radio" name="q2"> A) POST /adminconfig/v2/data/indexes</label>
                            <label><input type="radio" name="q2" checked> B) POST /adminconfig/v2/indexes</label>
                            <label><input type="radio" name="q2"> C) PUT /adminconfig/v2/indexes</label>
                            <label><input type="radio" name="q2"> D) POST /services/data/indexes</label>
                        </div>
                        <details style="margin-top: 12px; color: #8b949e;">
                            <summary>Show Answer</summary>
                            <p><strong>B) POST /adminconfig/v2/indexes</strong> - The ACS API uses the /adminconfig/v2/indexes endpoint for index management. POST creates a new index.</p>
                        </details>
                    </div>
                </div>

                <!-- Domain 3: Data Ingestion -->
                <div class="cert-domain">
                    <h3><span class="domain-weight">20%</span>Domain 3: Data Ingestion</h3>
                    <ul class="objective-list">
                        <li class="covered"><span class="status-icon">✅</span><strong>3.1</strong> Configure forwarders for Splunk Cloud</li>
                        <li class="covered"><span class="status-icon">✅</span><strong>3.2</strong> Configure HTTP Event Collector (HEC)</li>
                        <li class="covered"><span class="status-icon">✅</span><strong>3.3</strong> Use Ingest Actions</li>
                        <li class="covered"><span class="status-icon">✅</span><strong>3.4</strong> Configure Data Manager / IDM</li>
                        <li class="covered"><span class="status-icon">✅</span><strong>3.5</strong> Understand data ingestion limits</li>
                    </ul>

                    <div class="config-block">
                        <div class="config-block-header">
                            <span class="config-title">Forwarder Configuration for Splunk Cloud</span>
                        </div>
                        <pre><code>SPLUNK CLOUD FORWARDER SETUP
═══════════════════════════════════════════════════════════════════════════════

STEP 1: Download Universal Forwarder Credentials
─────────────────────────────────────────────────────────────────────────────
Location: Splunk Cloud UI → Settings → Forwarder Management → Download

Files received:
• splunkclouduf.spl - Contains outputs.conf and certificates
• splunkcloud.spl - Alternative package

STEP 2: Install Credentials on Forwarder
─────────────────────────────────────────────────────────────────────────────
# On Universal Forwarder
./splunk install app /path/to/splunkclouduf.spl -auth admin:password
./splunk restart

STEP 3: Verify outputs.conf
─────────────────────────────────────────────────────────────────────────────
# $SPLUNK_HOME/etc/apps/splunkclouduf/local/outputs.conf
[tcpout]
defaultGroup = splunkcloud

[tcpout:splunkcloud]
server = inputs.mystack.splunkcloud.com:9997
compressed = true
useACK = true
sslCertPath = $SPLUNK_HOME/etc/apps/splunkclouduf/local/cert.pem
sslPassword = ********
sslRootCAPath = $SPLUNK_HOME/etc/apps/splunkclouduf/local/cacert.pem
sslVerifyServerCert = true

FORWARDER ENDPOINTS:
─────────────────────────────────────────────────────────────────────────────
• inputs.{stack}.splunkcloud.com:9997 - Forwarder input (TCP)
• http-inputs.{stack}.splunkcloud.com:443 - HEC input (HTTPS)

DEPLOYMENT SERVER FOR CLOUD:
─────────────────────────────────────────────────────────────────────────────
• Customer-managed Deployment Server (on-prem or cloud VM)
• Deployment Server connects to Splunk Cloud for bundle push
• Download credentials: Settings → Forwarder Management → Deployment Server</code></pre>
                    </div>

                    <div class="config-block">
                        <div class="config-block-header">
                            <span class="config-title">HTTP Event Collector (HEC)</span>
                        </div>
                        <pre><code>HEC FOR SPLUNK CLOUD
═══════════════════════════════════════════════════════════════════════════════

HEC ENDPOINT:
https://http-inputs.{stack}.splunkcloud.com:443/services/collector

SEND EVENTS VIA HEC:
─────────────────────────────────────────────────────────────────────────────
# Single event
curl -X POST \
  -H "Authorization: Splunk $HEC_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"event": "User login successful", "sourcetype": "myapp", "index": "main"}' \
  "https://http-inputs.mystack.splunkcloud.com/services/collector/event"

# Batch events
curl -X POST \
  -H "Authorization: Splunk $HEC_TOKEN" \
  -d '{"event": "event1"}
{"event": "event2"}
{"event": "event3"}' \
  "https://http-inputs.mystack.splunkcloud.com/services/collector/event"

# Raw endpoint (for pre-formatted data)
curl -X POST \
  -H "Authorization: Splunk $HEC_TOKEN" \
  --data-binary @/var/log/messages \
  "https://http-inputs.mystack.splunkcloud.com/services/collector/raw?sourcetype=syslog"

HEC WITH ACK (Acknowledgment):
─────────────────────────────────────────────────────────────────────────────
# Send with ACK channel
curl -X POST \
  -H "Authorization: Splunk $HEC_TOKEN" \
  -H "X-Splunk-Request-Channel: $(uuidgen)" \
  -d '{"event": "important event"}' \
  "https://http-inputs.mystack.splunkcloud.com/services/collector/event?channel=$CHANNEL"

# Check ACK status
curl -X GET \
  -H "Authorization: Splunk $HEC_TOKEN" \
  "https://http-inputs.mystack.splunkcloud.com/services/collector/ack?channel=$CHANNEL"

HEC BEST PRACTICES:
─────────────────────────────────────────────────────────────────────────────
• Use HTTPS (port 443)
• Enable ACK for critical data
• Batch events when possible (reduces overhead)
• Set index in token config, not every event
• Monitor HEC health: index=_internal sourcetype=splunk_httpinput_metrics</code></pre>
                    </div>

                    <div class="cloud-feature">
                        <h5><i class="fas fa-filter"></i> Ingest Actions</h5>
                        <p>Filter, mask, or route data at ingest time before indexing.</p>
                        <pre><code>INGEST ACTIONS USE CASES:
─────────────────────────────────────────────────────────────────────────────
• Filter: Drop unwanted events (reduce license usage)
• Mask: Redact sensitive data (PII, credit cards)
• Route: Send data to different indexes based on content

CONFIGURATION VIA SPLUNK WEB:
Settings → Ingest Actions → Create New Ruleset

EXAMPLE: Mask Credit Card Numbers
{
  "rules": [
    {
      "name": "mask_credit_cards",
      "match": {
        "sourcetype": "payment_logs"
      },
      "actions": [
        {
          "type": "mask",
          "pattern": "\\b\\d{4}[-\\s]?\\d{4}[-\\s]?\\d{4}[-\\s]?\\d{4}\\b",
          "replacement": "XXXX-XXXX-XXXX-####"
        }
      ]
    }
  ]
}

EXAMPLE: Filter Debug Logs
{
  "rules": [
    {
      "name": "drop_debug",
      "match": {
        "sourcetype": "app_logs",
        "field": "_raw",
        "pattern": "DEBUG"
      },
      "actions": [
        {
          "type": "filter"
        }
      ]
    }
  ]
}</code></pre>
                    </div>

                    <div class="cloud-feature">
                        <h5><i class="fas fa-database"></i> Data Manager / Ingest Data Manager (IDM)</h5>
                        <p>Unified interface for managing cloud data sources.</p>
                        <pre><code>DATA MANAGER CAPABILITIES:
─────────────────────────────────────────────────────────────────────────────
• AWS: S3, CloudWatch, CloudTrail, Kinesis
• Azure: Event Hubs, Blob Storage, Activity Logs
• GCP: Cloud Pub/Sub, Cloud Storage
• SaaS: O365, Salesforce, ServiceNow, Okta

SETUP EXAMPLE (AWS S3):
─────────────────────────────────────────────────────────────────────────────
1. Navigate: Settings → Data Manager → Add Data Source
2. Select: AWS → S3
3. Configure:
   - AWS Region
   - S3 Bucket name
   - IAM Role ARN (for access)
   - Index destination
   - Sourcetype

IAM POLICY REQUIRED:
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": [
        "s3:GetObject",
        "s3:ListBucket"
      ],
      "Resource": [
        "arn:aws:s3:::your-bucket",
        "arn:aws:s3:::your-bucket/*"
      ]
    },
    {
      "Effect": "Allow",
      "Action": [
        "sqs:ReceiveMessage",
        "sqs:DeleteMessage"
      ],
      "Resource": "arn:aws:sqs:*:*:splunk-*"
    }
  ]
}</code></pre>
                    </div>
                </div>

                <!-- Domain 4: Apps & Configuration -->
                <div class="cert-domain">
                    <h3><span class="domain-weight">15%</span>Domain 4: Apps & Configuration</h3>
                    <ul class="objective-list">
                        <li class="covered"><span class="status-icon">✅</span><strong>4.1</strong> Install apps in Splunk Cloud</li>
                        <li class="covered"><span class="status-icon">✅</span><strong>4.2</strong> Understand app vetting process</li>
                        <li class="covered"><span class="status-icon">✅</span><strong>4.3</strong> Configure apps for cloud environment</li>
                        <li class="covered"><span class="status-icon">✅</span><strong>4.4</strong> Manage knowledge objects</li>
                    </ul>

                    <div class="config-block">
                        <div class="config-block-header">
                            <span class="config-title">App Installation in Splunk Cloud</span>
                        </div>
                        <pre><code>APP INSTALLATION METHODS
═══════════════════════════════════════════════════════════════════════════════

METHOD 1: Self-Service (Victoria - Cloud Vetted Apps)
─────────────────────────────────────────────────────────────────────────────
Location: Apps → Find More Apps
• Only "Cloud Compatible" apps available
• Automatic installation
• No support ticket needed

METHOD 2: ACS API (Victoria)
─────────────────────────────────────────────────────────────────────────────
# List available apps
curl -X GET \
  -H "Authorization: Bearer $TOKEN" \
  "https://admin.splunk.com/$STACK/adminconfig/v2/apps/victoria"

# Install app
curl -X POST \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"name": "Splunk_TA_windows", "version": "8.0.0"}' \
  "https://admin.splunk.com/$STACK/adminconfig/v2/apps/victoria"

METHOD 3: Support Ticket (Custom Apps / Classic)
─────────────────────────────────────────────────────────────────────────────
• Required for private/custom apps
• App undergoes Splunk security vetting
• Timeline: 3-5 business days typical

APP VETTING REQUIREMENTS:
─────────────────────────────────────────────────────────────────────────────
• No custom Python scripts with security risks
• No modification of system files
• No use of deprecated commands
• Must pass AppInspect checks

# Pre-check with AppInspect
splunk-appinspect inspect /path/to/myapp.tgz --included-tags cloud</code></pre>
                    </div>
                </div>

                <!-- Domain 5: User Management -->
                <div class="cert-domain">
                    <h3><span class="domain-weight">10%</span>Domain 5: User Management & Security</h3>
                    <ul class="objective-list">
                        <li class="covered"><span class="status-icon">✅</span><strong>5.1</strong> Configure SAML authentication</li>
                        <li class="covered"><span class="status-icon">✅</span><strong>5.2</strong> Manage users and roles</li>
                        <li class="covered"><span class="status-icon">✅</span><strong>5.3</strong> Configure IP allowlisting</li>
                        <li class="covered"><span class="status-icon">✅</span><strong>5.4</strong> Understand private connectivity options</li>
                    </ul>

                    <div class="config-block">
                        <div class="config-block-header">
                            <span class="config-title">SAML Configuration</span>
                        </div>
                        <pre><code>SAML AUTHENTICATION FOR SPLUNK CLOUD
═══════════════════════════════════════════════════════════════════════════════

SUPPORTED IDPs:
─────────────────────────────────────────────────────────────────────────────
• Okta
• Azure AD
• OneLogin
• PingFederate
• ADFS

CONFIGURATION STEPS:
─────────────────────────────────────────────────────────────────────────────
1. Settings → Authentication Methods → SAML
2. Configure:
   - IDP Metadata URL or XML
   - Entity ID (your Splunk Cloud URL)
   - Name ID attribute (username)
   - Role attribute (for role mapping)
3. Create role mapping:
   - IDP Group → Splunk Role
4. Test with single user before enabling for all

SAML ATTRIBUTES TO MAP:
─────────────────────────────────────────────────────────────────────────────
• nameID: Username
• groups: Role mapping
• mail: Email address
• realname: Display name

EXAMPLE OKTA CONFIGURATION:
─────────────────────────────────────────────────────────────────────────────
# Okta App Settings
Single Sign On URL: https://mystack.splunkcloud.com/saml/acs
Audience URI: https://mystack.splunkcloud.com
Name ID: user.login
Groups: Attribute Statements → groups → user.groups</code></pre>
                    </div>

                    <div class="config-block">
                        <div class="config-block-header">
                            <span class="config-title">Private Connectivity</span>
                        </div>
                        <pre><code>PRIVATE CONNECTIVITY OPTIONS
═══════════════════════════════════════════════════════════════════════════════

OPTION 1: IP ALLOWLISTING
─────────────────────────────────────────────────────────────────────────────
• Restrict Splunk Cloud access to specific IPs
• Configure via support ticket
• Applies to: UI access, REST API, forwarder connections

OPTION 2: AWS PRIVATELINK (Victoria)
─────────────────────────────────────────────────────────────────────────────
• Private connection from your AWS VPC to Splunk Cloud
• No data traverses public internet
• Requires:
  - AWS VPC in same region as Splunk Cloud
  - VPC Endpoint configuration
  - Support ticket to enable

Setup:
1. Request PrivateLink enablement from Splunk
2. Create VPC Endpoint in your AWS account
3. Configure DNS to resolve Splunk endpoints to PrivateLink

OPTION 3: AZURE PRIVATE LINK
─────────────────────────────────────────────────────────────────────────────
• Similar to AWS PrivateLink for Azure
• Private connection from Azure VNet

OPTION 4: VPN (Classic)
─────────────────────────────────────────────────────────────────────────────
• Site-to-site VPN to Splunk Cloud
• Higher complexity, used for Classic deployments</code></pre>
                    </div>
                </div>

                <!-- Domain 6: Monitoring & Troubleshooting -->
                <div class="cert-domain">
                    <h3><span class="domain-weight">15%</span>Domain 6: Monitoring & Troubleshooting</h3>
                    <ul class="objective-list">
                        <li class="covered"><span class="status-icon">✅</span><strong>6.1</strong> Monitor Splunk Cloud health</li>
                        <li class="covered"><span class="status-icon">✅</span><strong>6.2</strong> Troubleshoot data ingestion issues</li>
                        <li class="covered"><span class="status-icon">✅</span><strong>6.3</strong> Monitor license usage</li>
                        <li class="covered"><span class="status-icon">✅</span><strong>6.4</strong> Understand support process</li>
                    </ul>

                    <div class="config-block">
                        <div class="config-block-header">
                            <span class="config-title">Cloud Monitoring Searches</span>
                        </div>
                        <pre><code>SPLUNK CLOUD MONITORING SEARCHES
═══════════════════════════════════════════════════════════════════════════════

# License usage
index=_internal source=*license_usage.log type=Usage
| timechart span=1d sum(b) as bytes
| eval GB = round(bytes/1024/1024/1024, 2)

# Ingestion volume by sourcetype
index=_internal source=*metrics.log group=per_sourcetype_thruput
| timechart span=1h sum(kb) as kb by series
| eval MB = kb/1024

# HEC health
index=_internal sourcetype=splunk_httpinput_metrics
| stats sum(data) as events, sum(failures) as failures by name
| eval success_rate = round((events-failures)/events*100, 2)

# Forwarder connections
index=_internal sourcetype=splunkd source=*metrics.log group=tcpin_connections
| stats dc(hostname) as forwarders, sum(tcp_KBps) as throughput_KBps

# Search performance
index=_audit action=search info=completed
| stats avg(total_run_time) as avg_runtime, max(total_run_time) as max_runtime by user
| sort -avg_runtime

# Index size
| rest /services/data/indexes
| table title, currentDBSizeMB, totalEventCount, maxTotalDataSizeMB

COMMON ISSUES AND SOLUTIONS:
─────────────────────────────────────────────────────────────────────────────
Issue: Forwarder not connecting
→ Check: SSL certificates, firewall rules, outputs.conf

Issue: HEC returning 503
→ Check: Token validity, rate limiting, index availability

Issue: Data not appearing in index
→ Check: Index exists, permissions, sourcetype routing

Issue: Slow searches
→ Check: Data model acceleration, search efficiency, time range</code></pre>
                    </div>
                </div>

                <!-- Domain 7: SmartStore & DDSS -->
                <div class="cert-domain">
                    <h3><span class="domain-weight">10%</span>Domain 7: Storage Architecture</h3>
                    <ul class="objective-list">
                        <li class="covered"><span class="status-icon">✅</span><strong>7.1</strong> Understand SmartStore architecture</li>
                        <li class="covered"><span class="status-icon">✅</span><strong>7.2</strong> Configure data retention</li>
                        <li class="covered"><span class="status-icon">✅</span><strong>7.3</strong> Understand Dynamic Data Self-Storage (DDSS)</li>
                        <li class="covered"><span class="status-icon">✅</span><strong>7.4</strong> Configure archive and restoration</li>
                    </ul>

                    <div class="config-block">
                        <div class="config-block-header">
                            <span class="config-title">SmartStore & DDSS</span>
                        </div>
                        <pre><code>SMARTSTORE ARCHITECTURE
═══════════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────────┐
│                              INDEXER                                         │
│  ┌─────────────┐                                                            │
│  │   Cache     │ ← Hot data (recently indexed/searched)                     │
│  │  (Local SSD)│                                                            │
│  └──────┬──────┘                                                            │
│         │                                                                    │
│         │ Automatic tiering                                                  │
│         ▼                                                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                        REMOTE STORAGE (S3/Blob)                              │
│  ┌─────────────────────────────────────────────────────────────────────────┐│
│  │  Warm/Cold Data - Retrieved on demand for searches                      ││
│  │  Lower cost storage, unlimited scale                                    ││
│  └─────────────────────────────────────────────────────────────────────────┘│
└─────────────────────────────────────────────────────────────────────────────┘

SMARTSTORE BENEFITS:
─────────────────────────────────────────────────────────────────────────────
• Cost: S3 storage much cheaper than SSD
• Scale: Unlimited storage capacity
• Elasticity: Separate compute from storage

DYNAMIC DATA SELF-STORAGE (DDSS)
═══════════════════════════════════════════════════════════════════════════════

DDSS = Customer-owned S3 bucket for long-term archival

Purpose: Store data beyond standard retention at lower cost

Configuration (via ACS):
─────────────────────────────────────────────────────────────────────────────
{
  "selfStorageLocations": [
    {
      "name": "my-archive",
      "type": "s3",
      "bucket": "my-splunk-archive-bucket",
      "path": "splunk-data/",
      "region": "us-east-1"
    }
  ]
}

Index configuration for DDSS:
─────────────────────────────────────────────────────────────────────────────
# searchableDays: Hot/warm retention (fast access)
# splunk_archival_retention_days: DDSS retention (cold storage)

{
  "name": "security",
  "searchableDays": 90,
  "splunk_archival_retention_days": 365,
  "selfStorageLocation": "my-archive"
}

RESTORE FROM DDSS:
─────────────────────────────────────────────────────────────────────────────
# Via support ticket or ACS (limited self-service)
# Restored data becomes searchable
# Takes time based on data volume</code></pre>
                    </div>

                    <div class="exam-tip">
                        <h4><i class="fas fa-lightbulb"></i> Exam Tip</h4>
                        <p><strong>searchableDays</strong> = Hot/warm data (fast, expensive)<br>
                        <strong>splunk_archival_retention_days</strong> = DDSS cold data (slower to search, cheaper)<br>
                        Know the difference! DDSS data is NOT immediately searchable - it must be restored first.</p>
                    </div>
                </div>

                <!-- Study Plan -->
                <h2><i class="fas fa-book-reader"></i> Study Plan</h2>
                <div class="info-box info-box-tip">
                    <h4>6-Week Splunk Cloud Admin Certification Study Plan</h4>
                    <ol>
                        <li><strong>Week 1:</strong> Cloud Architecture, Victoria vs Classic, Shared Responsibility</li>
                        <li><strong>Week 2:</strong> ACS API - Authentication, Index Management</li>
                        <li><strong>Week 3:</strong> ACS API - HEC, Apps, Users</li>
                        <li><strong>Week 4:</strong> Data Ingestion - Forwarders, HEC, Data Manager</li>
                        <li><strong>Week 5:</strong> Security - SAML, Private Connectivity, SmartStore/DDSS</li>
                        <li><strong>Week 6:</strong> Practice Exams & Review</li>
                    </ol>
                </div>

                <!-- Related Pages -->
                <h2><i class="fas fa-link"></i> Related Topics</h2>
                <ul>
                    <li><a href="splunk-cloud.html">Splunk Cloud Basics</a></li>
                    <li><a href="splunk-cloud-mastery.html">Splunk Cloud Mastery Guide</a></li>
                    <li><a href="data-ingestion.html">Data Ingestion Guide</a></li>
                    <li><a href="forwarders.html">Forwarder Configuration</a></li>
                    <li><a href="security-rbac.html">Security & RBAC</a></li>
                </ul>

            </main>
        </div>
    </div>
</body>
</html>
