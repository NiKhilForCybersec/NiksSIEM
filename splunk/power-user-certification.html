<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Splunk Power User Certification | 100% Exam Coverage + Sobeys Enterprise</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #0d1117; color: #c9d1d9; line-height: 1.6; }
        .app-container { display: flex; min-height: 100vh; }
        .sidebar { width: 260px; background: #161b22; border-right: 1px solid #30363d; position: fixed; height: 100vh; overflow-y: auto; }
        .sidebar-header { padding: 16px; border-bottom: 1px solid #30363d; }
        .sidebar-brand { color: #58a6ff; text-decoration: none; font-size: 1.1em; font-weight: bold; display: flex; align-items: center; gap: 8px; }
        .sidebar-content { padding: 12px; }
        .sidebar-section { margin-bottom: 20px; }
        .sidebar-section-title { color: #8b949e; font-size: 0.7em; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 6px; padding-left: 10px; }
        .sidebar-nav { list-style: none; }
        .sidebar-nav-item { margin: 2px 0; }
        .sidebar-nav-link { display: flex; align-items: center; gap: 8px; padding: 8px 10px; color: #8b949e; text-decoration: none; border-radius: 6px; font-size: 0.85em; transition: all 0.2s; }
        .sidebar-nav-link:hover { background: #21262d; color: #c9d1d9; }
        .sidebar-nav-link.active { background: #1f6feb; color: white; }
        .sidebar-nav-link i { width: 14px; font-size: 0.9em; }
        .main-wrapper { margin-left: 260px; flex: 1; }
        .main-content { max-width: 1300px; margin: 0 auto; padding: 24px; }
        h1 { color: #58a6ff; margin-bottom: 12px; font-size: 1.8em; }
        h2 { color: #58a6ff; margin: 28px 0 14px; padding-bottom: 6px; border-bottom: 1px solid #30363d; }
        h3 { color: #c9d1d9; margin: 20px 0 10px; }
        h4 { color: #8b949e; margin: 16px 0 10px; }
        .lead { font-size: 1em; color: #8b949e; margin-bottom: 20px; }
        a { color: #58a6ff; }
        code { background: #161b22; padding: 2px 6px; border-radius: 4px; color: #79c0ff; font-family: 'Consolas', monospace; font-size: 0.85em; }
        pre { background: #161b22; padding: 14px; border-radius: 8px; overflow-x: auto; margin: 14px 0; border: 1px solid #30363d; }
        pre code { background: none; padding: 0; }
        ul, ol { padding-left: 20px; margin: 10px 0; }
        li { margin: 6px 0; }
        
        /* Info Boxes */
        .info-box { padding: 14px 18px; border-radius: 8px; margin: 14px 0; border-left: 4px solid; }
        .info-box h4 { margin-top: 0; margin-bottom: 10px; }
        .info-box-info { background: #0d1117; border-color: #58a6ff; }
        .info-box-warning { background: #1c1c00; border-color: #d29922; }
        .info-box-tip { background: #0d1117; border-color: #238636; }
        
        /* Tabs */
        .tab-container { margin: 16px 0; }
        .tab-nav { display: flex; flex-wrap: wrap; gap: 3px; border-bottom: 2px solid #30363d; }
        .tab-btn { padding: 10px 14px; background: #161b22; border: 1px solid #30363d; border-bottom: none; border-radius: 6px 6px 0 0; cursor: pointer; color: #8b949e; font-weight: 500; font-size: 0.8em; transition: all 0.2s; position: relative; top: 2px; }
        .tab-btn:hover { background: #21262d; color: #c9d1d9; }
        .tab-btn.active { background: #0d1117; color: #58a6ff; border-color: #58a6ff; border-bottom: 2px solid #0d1117; }
        .tab-content { display: none; padding: 20px; background: #0d1117; border: 1px solid #30363d; border-top: none; border-radius: 0 0 10px 10px; }
        .tab-content.active { display: block; }
        
        /* Domain Header */
        .domain-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 14px; border-bottom: 2px solid #30363d; flex-wrap: wrap; gap: 10px; }
        .domain-title { font-size: 1.3em; color: #58a6ff; margin: 0; }
        .domain-weight { background: linear-gradient(135deg, #238636, #2ea043); color: white; padding: 6px 14px; border-radius: 16px; font-weight: bold; font-size: 0.9em; }
        
        /* RAW EVENT DISPLAY - Training Style */
        .raw-event-container { background: #1a1a2e; border: 2px solid #30363d; border-radius: 10px; margin: 20px 0; overflow: hidden; }
        .raw-event-header { background: #16213e; padding: 12px 16px; border-bottom: 1px solid #30363d; display: flex; align-items: center; gap: 10px; }
        .raw-event-header .icon { color: #58a6ff; }
        .raw-event-header .title { color: #c9d1d9; font-weight: 600; }
        .raw-event-header .meta { color: #8b949e; font-size: 0.85em; margin-left: auto; }
        .raw-event-body { padding: 16px; font-family: 'Consolas', 'Monaco', monospace; font-size: 0.9em; line-height: 1.8; }
        .raw-event-body .timestamp { color: #8b949e; }
        .raw-event-body .ip { color: #f0883e; background: rgba(240,136,62,0.15); padding: 2px 4px; border-radius: 3px; }
        .raw-event-body .method { color: #da3633; font-weight: bold; }
        .raw-event-body .url { color: #58a6ff; }
        .raw-event-body .status { color: #7ce38b; background: rgba(124,227,139,0.15); padding: 2px 6px; border-radius: 3px; font-weight: bold; }
        .raw-event-body .status.error { color: #f85149; background: rgba(248,81,73,0.15); }
        .raw-event-body .size { color: #8957e5; }
        .raw-event-body .useragent { color: #8b949e; font-size: 0.85em; }
        .raw-event-body .field-value { color: #7ce38b; background: rgba(124,227,139,0.1); padding: 2px 4px; border-radius: 3px; }
        
        /* Field Extraction Visualization */
        .field-extraction { background: #161b22; border: 1px solid #30363d; border-radius: 10px; margin: 16px 0; padding: 20px; }
        .field-extraction h4 { color: #58a6ff; margin: 0 0 16px 0; display: flex; align-items: center; gap: 8px; }
        .extraction-arrow { display: flex; align-items: center; justify-content: center; margin: 16px 0; }
        .extraction-arrow::before, .extraction-arrow::after { content: ''; flex: 1; height: 2px; background: linear-gradient(90deg, transparent, #30363d, transparent); }
        .extraction-arrow span { padding: 8px 16px; background: #238636; color: white; border-radius: 20px; font-size: 0.85em; font-weight: 500; }
        .extracted-fields { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px; margin-top: 16px; }
        .extracted-field { background: #0d1117; border: 1px solid #30363d; border-radius: 8px; padding: 12px; display: flex; align-items: center; gap: 10px; }
        .extracted-field .field-name { color: #8b949e; font-size: 0.85em; }
        .extracted-field .field-equals { color: #6e7681; }
        .extracted-field .field-value { color: #7ce38b; font-weight: 600; font-family: 'Consolas', monospace; }
        .extracted-field.highlight { border-color: #f0883e; background: rgba(240,136,62,0.1); }
        .extracted-field.highlight .field-value { color: #f0883e; }
        
        /* How Splunk Extracts - Callout boxes */
        .extraction-note { background: linear-gradient(135deg, #1a1f35, #2d3555); border: 1px solid #404968; border-radius: 8px; padding: 14px; margin: 10px 0; display: flex; align-items: flex-start; gap: 12px; }
        .extraction-note .note-icon { font-size: 1.5em; }
        .extraction-note .note-content h5 { color: #f0c14b; margin: 0 0 6px 0; font-size: 0.95em; }
        .extraction-note .note-content p { color: #8b949e; margin: 0; font-size: 0.9em; }
        .extraction-note code { background: rgba(0,0,0,0.3); }
        
        /* Scenario Cards */
        .scenario-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 14px; margin: 16px 0; }
        .scenario-card { background: #161b22; border: 1px solid #30363d; border-radius: 8px; padding: 14px; }
        .scenario-card h5 { color: #58a6ff; margin: 0 0 10px 0; font-size: 0.95em; }
        .scenario-card .tag { display: inline-block; padding: 3px 8px; border-radius: 4px; font-size: 0.7em; margin-bottom: 6px; }
        .scenario-card .tag.exam { background: #8957e5; color: white; }
        .scenario-card .tag.sobeys { background: #da3633; color: white; }
        .scenario-card .tag.tip { background: #238636; color: white; }
        .scenario-card code { display: block; margin: 8px 0; font-size: 0.8em; word-break: break-all; background: #0d1117; padding: 8px; border-radius: 4px; }
        .scenario-card p { margin: 6px 0 0 0; font-size: 0.85em; color: #8b949e; }
        
        /* Search Breakdown */
        .search-breakdown { background: #0d1117; border: 2px solid #238636; border-radius: 10px; margin: 16px 0; overflow: hidden; }
        .search-breakdown-header { background: #1a472a; padding: 12px 16px; color: #7ce38b; font-weight: 600; display: flex; align-items: center; gap: 8px; }
        .search-breakdown-body { padding: 16px; }
        .search-line { display: flex; align-items: flex-start; gap: 12px; padding: 10px 0; border-bottom: 1px solid #21262d; }
        .search-line:last-child { border-bottom: none; }
        .search-line .line-num { color: #6e7681; font-size: 0.8em; min-width: 30px; }
        .search-line .line-code { font-family: 'Consolas', monospace; color: #79c0ff; flex: 1; }
        .search-line .line-explain { color: #8b949e; font-size: 0.85em; margin-left: auto; max-width: 300px; text-align: right; }
        .search-line .cmd { color: #f0883e; font-weight: bold; }
        .search-line .field { color: #7ce38b; }
        .search-line .value { color: #a5d6ff; }
        .search-line .operator { color: #ff7b72; }
        .search-line .function { color: #d2a8ff; }
        
        /* Tables */
        .cmd-table { width: 100%; border-collapse: collapse; margin: 14px 0; font-size: 0.85em; }
        .cmd-table th, .cmd-table td { padding: 10px; text-align: left; border-bottom: 1px solid #30363d; }
        .cmd-table th { background: #161b22; color: #58a6ff; }
        .cmd-table tr:hover { background: #161b22; }
        
        /* Cheat Sheet */
        .cheat-sheet { background: #0d1117; border: 2px solid #238636; border-radius: 10px; padding: 16px; margin: 16px 0; }
        .cheat-sheet h4 { color: #7ce38b; margin-top: 0; font-size: 1em; }
        .cheat-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(170px, 1fr)); gap: 10px; }
        .cheat-item { background: #161b22; padding: 10px; border-radius: 6px; font-size: 0.85em; }
        
        /* Practice Questions */
        .practice-q { background: #161b22; border: 1px solid #30363d; border-radius: 8px; padding: 14px; margin: 14px 0; }
        .practice-q .question { color: #c9d1d9; font-weight: 600; margin-bottom: 10px; font-size: 0.95em; }
        .practice-q .options { padding-left: 0; list-style: none; }
        .practice-q .options li { padding: 8px 10px; margin: 4px 0; background: #0d1117; border-radius: 6px; cursor: pointer; border: 1px solid transparent; font-size: 0.9em; }
        .practice-q .options li:hover { border-color: #30363d; }
        .answer-explanation { margin-top: 10px; padding: 10px; background: #1a472a; border-radius: 6px; display: none; font-size: 0.9em; }
        
        /* Exam/Sobeys Tips */
        .exam-tip { background: linear-gradient(135deg, #1a472a 0%, #2d5a3d 100%); border: 1px solid #3d8b5a; border-radius: 8px; padding: 14px; margin: 14px 0; }
        .exam-tip h5 { color: #7ce38b; margin: 0 0 8px 0; font-size: 0.95em; }
        .sobeys-box { background: linear-gradient(135deg, #2d1a1a 0%, #3d2525 100%); border: 1px solid #8b3d3d; border-radius: 8px; padding: 14px; margin: 14px 0; }
        .sobeys-box h5 { color: #ff9999; margin: 0 0 8px 0; font-size: 0.95em; }
        
        /* Coverage Bar */
        .coverage-bar { background: #21262d; border-radius: 8px; height: 16px; margin: 6px 0; overflow: hidden; }
        .coverage-fill { background: linear-gradient(90deg, #238636, #2ea043); height: 100%; border-radius: 8px; display: flex; align-items: center; justify-content: flex-end; padding-right: 6px; color: white; font-size: 0.7em; font-weight: bold; }
        
        /* Sub-tabs */
        .sub-tabs { display: flex; gap: 6px; margin: 14px 0; flex-wrap: wrap; }
        .sub-tab { padding: 6px 12px; background: #21262d; border: 1px solid #30363d; border-radius: 4px; cursor: pointer; color: #8b949e; font-size: 0.8em; }
        .sub-tab:hover { background: #30363d; }
        .sub-tab.active { background: #1f6feb; color: white; border-color: #1f6feb; }
        .sub-content { display: none; }
        .sub-content.active { display: block; }
        
        /* Flow Diagram */
        .flow-diagram { background: #161b22; border: 1px solid #30363d; border-radius: 10px; padding: 16px; margin: 16px 0; overflow-x: auto; }
        .flow-diagram h4 { color: #58a6ff; margin-top: 0; margin-bottom: 12px; font-size: 1em; }
        .flow-svg { max-width: 100%; height: auto; display: block; }
        
        /* Decision Tree */
        .decision-tree { background: linear-gradient(135deg, #1a1f35 0%, #2d3555 100%); border: 1px solid #404968; border-radius: 10px; padding: 16px; margin: 16px 0; overflow-x: auto; }
        .decision-tree h4 { color: #f0883e; margin-top: 0; font-size: 1em; }
        
        hr { border: none; border-top: 1px solid #30363d; margin: 24px 0; }
        
        @media (max-width: 768px) {
            .sidebar { display: none; }
            .main-wrapper { margin-left: 0; }
            .tab-btn { padding: 6px 10px; font-size: 0.75em; }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <a href="../index.html" class="sidebar-brand"><i class="fas fa-shield-alt"></i><span>Nik's SIEM</span></a>
            </div>
            <div class="sidebar-content">
                <div class="sidebar-section">
                    <div class="sidebar-section-title">Certification</div>
                    <ul class="sidebar-nav">
                        <li class="sidebar-nav-item"><a href="power-user-certification.html" class="sidebar-nav-link active"><i class="fas fa-certificate"></i><span>Power User</span></a></li>
                        <li class="sidebar-nav-item"><a href="admin-certification.html" class="sidebar-nav-link"><i class="fas fa-user-cog"></i><span>Admin</span></a></li>
                        <li class="sidebar-nav-item"><a href="es-admin-certification.html" class="sidebar-nav-link"><i class="fas fa-shield-alt"></i><span>ES Admin</span></a></li>
                        <li class="sidebar-nav-item"><a href="lab-exercises.html" class="sidebar-nav-link"><i class="fas fa-flask"></i><span>Labs</span></a></li>
                    </ul>
                </div>
                <div class="sidebar-section">
                    <div class="sidebar-section-title">Exam Domains</div>
                    <ul class="sidebar-nav">
                        <li class="sidebar-nav-item"><a href="#" onclick="openTab(event,'d1')" class="sidebar-nav-link"><i class="fas fa-cube"></i>1. Basics (5%)</a></li>
                        <li class="sidebar-nav-item"><a href="#" onclick="openTab(event,'d2')" class="sidebar-nav-link"><i class="fas fa-search"></i>2. Search (22%)</a></li>
                        <li class="sidebar-nav-item"><a href="#" onclick="openTab(event,'d3')" class="sidebar-nav-link"><i class="fas fa-columns"></i>3. Fields (20%)</a></li>
                        <li class="sidebar-nav-item"><a href="#" onclick="openTab(event,'d4')" class="sidebar-nav-link"><i class="fas fa-terminal"></i>4. SPL (17%)</a></li>
                        <li class="sidebar-nav-item"><a href="#" onclick="openTab(event,'d5')" class="sidebar-nav-link"><i class="fas fa-chart-bar"></i>5. Transform (15%)</a></li>
                        <li class="sidebar-nav-item"><a href="#" onclick="openTab(event,'d6')" class="sidebar-nav-link"><i class="fas fa-brain"></i>6. KOs (8%)</a></li>
                        <li class="sidebar-nav-item"><a href="#" onclick="openTab(event,'d7')" class="sidebar-nav-link"><i class="fas fa-cut"></i>7. Extract (5%)</a></li>
                        <li class="sidebar-nav-item"><a href="#" onclick="openTab(event,'d8')" class="sidebar-nav-link"><i class="fas fa-cubes"></i>8. Models (8%)</a></li>
                    </ul>
                </div>
            </div>
        </aside>
        
        <div class="main-wrapper">
            <main class="main-content">
                <h1><i class="fas fa-certificate"></i> Splunk Core Certified Power User</h1>
                <p class="lead">100% exam coverage with real raw event examples, field extraction visualizations, and Sobeys enterprise scenarios.</p>
                
                <div class="info-box info-box-info">
                    <h4><i class="fas fa-clipboard-list"></i> Exam: SPLK-1002</h4>
                    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px;margin-top:10px;">
                        <div><strong>Duration:</strong> 57 minutes</div>
                        <div><strong>Questions:</strong> 58 multiple choice</div>
                        <div><strong>Pass:</strong> 70% (41/58)</div>
                        <div><strong>Cost:</strong> $130 USD</div>
                    </div>
                </div>

                <div class="sobeys-box">
                    <h5><i class="fas fa-store"></i> Sobeys Enterprise Context</h5>
                    <p>Real examples from Sobeys retail: 1,500+ stores, POS transactions, supply chain, PCI-DSS compliance, fraud detection.</p>
                </div>

                <!-- Tab Navigation -->
                <div class="tab-container">
                    <div class="tab-nav">
                        <button class="tab-btn active" onclick="openTab(event,'d1')">1. Basics</button>
                        <button class="tab-btn" onclick="openTab(event,'d2')">2. Search (22%)</button>
                        <button class="tab-btn" onclick="openTab(event,'d3')">3. Fields (20%)</button>
                        <button class="tab-btn" onclick="openTab(event,'d4')">4. SPL (17%)</button>
                        <button class="tab-btn" onclick="openTab(event,'d5')">5. Transform</button>
                        <button class="tab-btn" onclick="openTab(event,'d6')">6. KOs</button>
                        <button class="tab-btn" onclick="openTab(event,'d7')">7. Extract</button>
                        <button class="tab-btn" onclick="openTab(event,'d8')">8. Models</button>
                    </div>

                    <!-- DOMAIN 1: SPLUNK BASICS (5%) -->
                    <div id="d1" class="tab-content active">
                        <div class="domain-header">
                            <h3 class="domain-title"><i class="fas fa-cube"></i> Domain 1: Splunk Basics</h3>
                            <span class="domain-weight">5% (~3 questions)</span>
                        </div>

                        <div class="info-box info-box-tip">
                            <h4>Exam Objectives</h4>
                            <ul>
                                <li><strong>1.1</strong> Describe Splunk components and their functions</li>
                                <li><strong>1.2</strong> Understand Splunk apps</li>
                                <li><strong>1.3</strong> Navigate Splunk Web interface</li>
                                <li><strong>1.4</strong> Identify data pipeline stages</li>
                            </ul>
                        </div>

                        <!-- Architecture Flow -->
                        <div class="flow-diagram">
                            <h4><i class="fas fa-sitemap"></i> Splunk Architecture - Data Flow</h4>
                            <svg viewBox="0 0 820 200" class="flow-svg">
                                <defs><marker id="arr" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto"><polygon points="0 0,10 3.5,0 7" fill="#58a6ff"/></marker></defs>
                                
                                <!-- Data Sources -->
                                <rect x="10" y="50" width="110" height="60" rx="6" fill="#1a1f35" stroke="#58a6ff" stroke-width="2"/>
                                <text x="65" y="75" fill="#58a6ff" text-anchor="middle" font-size="10" font-weight="bold">Data Sources</text>
                                <text x="65" y="92" fill="#8b949e" text-anchor="middle" font-size="8">Logs, POS, Network</text>
                                
                                <path d="M120 80 L150 80" stroke="#58a6ff" stroke-width="2" marker-end="url(#arr)"/>
                                
                                <!-- Forwarders -->
                                <rect x="150" y="40" width="140" height="80" rx="6" fill="#1a1f35" stroke="#238636" stroke-width="2"/>
                                <text x="220" y="60" fill="#238636" text-anchor="middle" font-size="10" font-weight="bold">Forwarders</text>
                                <text x="220" y="78" fill="#79c0ff" text-anchor="middle" font-size="9">Universal (UF)</text>
                                <text x="220" y="92" fill="#8b949e" text-anchor="middle" font-size="7">Lightweight, forward only</text>
                                <text x="220" y="108" fill="#79c0ff" text-anchor="middle" font-size="9">Heavy (HF)</text>
                                
                                <path d="M290 80 L320 80" stroke="#238636" stroke-width="2" marker-end="url(#arr)"/>
                                
                                <!-- Indexer -->
                                <rect x="320" y="35" width="150" height="90" rx="6" fill="#1a1f35" stroke="#f0883e" stroke-width="2"/>
                                <text x="395" y="55" fill="#f0883e" text-anchor="middle" font-size="10" font-weight="bold">Indexer</text>
                                <text x="395" y="72" fill="#8b949e" text-anchor="middle" font-size="8">Parse ‚Üí Index ‚Üí Store</text>
                                <text x="395" y="90" fill="#7ce38b" text-anchor="middle" font-size="8">üî• Hot (writing)</text>
                                <text x="395" y="104" fill="#f0c14b" text-anchor="middle" font-size="8">üå°Ô∏è Warm (recent)</text>
                                <text x="395" y="118" fill="#79c0ff" text-anchor="middle" font-size="8">‚ùÑÔ∏è Cold (old)</text>
                                
                                <path d="M470 80 L500 80" stroke="#f0883e" stroke-width="2" marker-end="url(#arr)"/>
                                
                                <!-- Search Head -->
                                <rect x="500" y="50" width="120" height="60" rx="6" fill="#1a1f35" stroke="#8957e5" stroke-width="2"/>
                                <text x="560" y="75" fill="#8957e5" text-anchor="middle" font-size="10" font-weight="bold">Search Head</text>
                                <text x="560" y="92" fill="#8b949e" text-anchor="middle" font-size="8">UI, Dashboards</text>
                                
                                <path d="M620 80 L650 80" stroke="#8957e5" stroke-width="2" marker-end="url(#arr)"/>
                                
                                <!-- Users -->
                                <rect x="650" y="50" width="90" height="60" rx="6" fill="#1a1f35" stroke="#da3633" stroke-width="2"/>
                                <text x="695" y="75" fill="#da3633" text-anchor="middle" font-size="10" font-weight="bold">Users</text>
                                <text x="695" y="92" fill="#8b949e" text-anchor="middle" font-size="8">Analysts</text>
                                
                                <!-- Key Point -->
                                <rect x="10" y="150" width="730" height="40" rx="6" fill="#1a472a" stroke="#3d8b5a"/>
                                <text x="375" y="175" fill="#7ce38b" text-anchor="middle" font-size="9">üí° UF = lightweight, no parsing | HF = full Splunk, can parse/filter/route | Deployment Server manages forwarder configs</text>
                            </svg>
                        </div>

                        <!-- Data Pipeline with Real Example -->
                        <h4><i class="fas fa-stream"></i> Data Pipeline: How Data Becomes Searchable</h4>
                        
                        <div class="raw-event-container">
                            <div class="raw-event-header">
                                <i class="fas fa-file-alt icon"></i>
                                <span class="title">Raw Log Data (Input Stage)</span>
                                <span class="meta">Before processing</span>
                            </div>
                            <div class="raw-event-body">
                                <span class="timestamp">May 19 16:13:08</span> store-pos-042 POS_TRANS: <span class="field-value">txn_id=TXN20240519161308042</span> <span class="field-value">action=purchase</span> <span class="field-value">amount=47.95</span> <span class="field-value">payment=visa</span> <span class="field-value">status=approved</span> cashier=emp_1847 register=REG03
                            </div>
                        </div>

                        <div class="extraction-arrow"><span>‚¨áÔ∏è Parsing Stage</span></div>

                        <div class="field-extraction">
                            <h4><i class="fas fa-magic"></i> After Parsing - Fields Extracted</h4>
                            <div class="extracted-fields">
                                <div class="extracted-field"><span class="field-name">_time</span><span class="field-equals">=</span><span class="field-value">05/19/2024 16:13:08</span></div>
                                <div class="extracted-field"><span class="field-name">host</span><span class="field-equals">=</span><span class="field-value">store-pos-042</span></div>
                                <div class="extracted-field"><span class="field-name">sourcetype</span><span class="field-equals">=</span><span class="field-value">pos_transactions</span></div>
                                <div class="extracted-field highlight"><span class="field-name">action</span><span class="field-equals">=</span><span class="field-value">purchase</span></div>
                                <div class="extracted-field highlight"><span class="field-name">amount</span><span class="field-equals">=</span><span class="field-value">47.95</span></div>
                                <div class="extracted-field"><span class="field-name">payment</span><span class="field-equals">=</span><span class="field-value">visa</span></div>
                                <div class="extracted-field"><span class="field-name">status</span><span class="field-equals">=</span><span class="field-value">approved</span></div>
                                <div class="extracted-field"><span class="field-name">cashier</span><span class="field-equals">=</span><span class="field-value">emp_1847</span></div>
                            </div>
                        </div>

                        <div class="extraction-note">
                            <span class="note-icon">üí°</span>
                            <div class="note-content">
                                <h5>How Splunk Extracts Fields</h5>
                                <p><strong>Key=Value pairs:</strong> Splunk automatically recognizes patterns like <code>action=purchase</code> and creates the field <code>action</code> with value <code>purchase</code>. This is called <strong>automatic key-value extraction</strong>.</p>
                            </div>
                        </div>

                        <!-- Pipeline Stages Table -->
                        <table class="cmd-table">
                            <tr><th>Stage</th><th>What Happens</th><th>Config File</th><th>When</th></tr>
                            <tr>
                                <td><strong style="color:#58a6ff">1. Input</strong></td>
                                <td>Data arrives, <code>source</code>, <code>host</code>, <code>sourcetype</code> assigned</td>
                                <td><code>inputs.conf</code></td>
                                <td>Data ingestion</td>
                            </tr>
                            <tr>
                                <td><strong style="color:#238636">2. Parsing</strong></td>
                                <td>Break stream into events, extract <code>_time</code>, line breaking</td>
                                <td><code>props.conf</code>, <code>transforms.conf</code></td>
                                <td>Index time</td>
                            </tr>
                            <tr>
                                <td><strong style="color:#f0883e">3. Indexing</strong></td>
                                <td>Write to index, create tsidx (time-series index) files</td>
                                <td><code>indexes.conf</code></td>
                                <td>Index time</td>
                            </tr>
                            <tr>
                                <td><strong style="color:#8957e5">4. Search</strong></td>
                                <td>Query indexed data, extract additional fields on-the-fly</td>
                                <td><code>savedsearches.conf</code></td>
                                <td>Search time</td>
                            </tr>
                        </table>

                        <div class="exam-tip">
                            <h5>üîë Index-Time vs Search-Time (Exam Favorite!)</h5>
                            <p><strong>Index-time:</strong> Happens ONCE when data arrives. Includes parsing, timestamp extraction, and indexed field extraction. <em>Cannot be changed without reindexing!</em></p>
                            <p><strong>Search-time:</strong> Happens EVERY search. Includes field extraction, calculated fields, lookups. <em>Can be modified anytime.</em></p>
                        </div>

                        <!-- Sobeys Architecture -->
                        <div class="sobeys-box">
                            <h5><i class="fas fa-store"></i> Sobeys Architecture Example</h5>
                            <ul>
                                <li><strong>1,500+ Stores:</strong> Universal Forwarders on each POS terminal and server</li>
                                <li><strong>Regional Data Centers:</strong> Heavy Forwarders for parsing/filtering before sending to HQ</li>
                                <li><strong>Head Office:</strong> Indexer Cluster (3+ nodes) + Search Head Cluster for analysts</li>
                            </ul>
                        </div>

                        <hr>
                        <h4><i class="fas fa-question-circle"></i> Practice Questions</h4>
                        
                        <div class="practice-q">
                            <div class="question">Q1: Which Splunk component is responsible for parsing data and storing it in indexes?</div>
                            <ul class="options">
                                <li onclick="checkAnswer(this,false)">A) Universal Forwarder</li>
                                <li onclick="checkAnswer(this,false)">B) Search Head</li>
                                <li onclick="checkAnswer(this,true)">C) Indexer</li>
                                <li onclick="checkAnswer(this,false)">D) Deployment Server</li>
                            </ul>
                            <div class="answer-explanation"><strong style="color:#7ce38b">‚úì C) Indexer</strong><br>The Indexer parses incoming data, extracts timestamps, and stores events in indexes. Universal Forwarders only collect and forward; Search Heads handle searches and visualization.</div>
                        </div>

                        <div class="practice-q">
                            <div class="question">Q2: What is the primary difference between a Universal Forwarder and a Heavy Forwarder?</div>
                            <ul class="options">
                                <li onclick="checkAnswer(this,true)">A) Heavy Forwarder can parse data; Universal Forwarder cannot</li>
                                <li onclick="checkAnswer(this,false)">B) Universal Forwarder is faster than Heavy Forwarder</li>
                                <li onclick="checkAnswer(this,false)">C) Heavy Forwarder only runs on Windows</li>
                                <li onclick="checkAnswer(this,false)">D) Universal Forwarder requires more memory</li>
                            </ul>
                            <div class="answer-explanation"><strong style="color:#7ce38b">‚úì A)</strong><br><strong>Heavy Forwarder</strong> = Full Splunk instance that can parse, filter, and route data before forwarding.<br><strong>Universal Forwarder</strong> = Lightweight agent (~100MB) that only collects and forwards raw data.</div>
                        </div>
                    </div>

                    <!-- DOMAIN 2: BASIC SEARCHING (22%) - HIGHEST WEIGHT -->
                    <div id="d2" class="tab-content">
                        <div class="domain-header">
                            <h3 class="domain-title"><i class="fas fa-search"></i> Domain 2: Basic Searching</h3>
                            <span class="domain-weight">22% (~13 questions)</span>
                        </div>

                        <div class="info-box info-box-warning">
                            <h4>‚ö†Ô∏è Highest Priority Domain!</h4>
                            <p>This is the MOST heavily weighted domain. Expect 12-13 questions. Master these concepts thoroughly!</p>
                        </div>

                        <div class="sub-tabs">
                            <button class="sub-tab active" onclick="openSubTab(event,'d2-basics','d2')">Basics</button>
                            <button class="sub-tab" onclick="openSubTab(event,'d2-time','d2')">Time</button>
                            <button class="sub-tab" onclick="openSubTab(event,'d2-bool','d2')">Boolean</button>
                            <button class="sub-tab" onclick="openSubTab(event,'d2-wild','d2')">Wildcards</button>
                            <button class="sub-tab" onclick="openSubTab(event,'d2-modes','d2')">Modes</button>
                            <button class="sub-tab" onclick="openSubTab(event,'d2-sobeys','d2')">Sobeys</button>
                        </div>

                        <!-- BASICS -->
                        <div id="d2-basics" class="sub-content active">
                            <h4><i class="fas fa-search"></i> Understanding Search with Real Events</h4>
                            
                            <!-- Real Web Access Log Example -->
                            <div class="raw-event-container">
                                <div class="raw-event-header">
                                    <i class="fas fa-globe icon"></i>
                                    <span class="title">Web Access Log Event</span>
                                    <span class="meta">sourcetype=access_combined</span>
                                </div>
                                <div class="raw-event-body">
                                    <span class="ip">198.228.212.52</span> - - [<span class="timestamp">19/May/2024:16:13:08</span>] "<span class="method">POST</span> <span class="url">/cart/checkout.do?action=purchase&itemId=EST-7</span> HTTP/1.1" <span class="status">200</span> <span class="size">2426</span> "http://www.buttercupgames.com/cart.do" "<span class="useragent">Mozilla/5.0 (Macintosh; Intel Mac OS X 10_6_8) AppleWebKit/534.55.3</span>"
                                </div>
                            </div>

                            <div class="field-extraction">
                                <h4><i class="fas fa-magic"></i> Identify Data-Specific Fields</h4>
                                <p style="color:#8b949e;margin-bottom:16px;">Data-specific fields come from the specific attributes of your data</p>
                                
                                <div class="extracted-fields">
                                    <div class="extracted-field highlight">
                                        <span class="field-name">clientip</span><span class="field-equals">=</span><span class="field-value">198.228.212.52</span>
                                    </div>
                                    <div class="extracted-field highlight">
                                        <span class="field-name">status</span><span class="field-equals">=</span><span class="field-value">200</span>
                                    </div>
                                    <div class="extracted-field highlight">
                                        <span class="field-name">action</span><span class="field-equals">=</span><span class="field-value">purchase</span>
                                    </div>
                                    <div class="extracted-field">
                                        <span class="field-name">method</span><span class="field-equals">=</span><span class="field-value">POST</span>
                                    </div>
                                    <div class="extracted-field">
                                        <span class="field-name">bytes</span><span class="field-equals">=</span><span class="field-value">2426</span>
                                    </div>
                                    <div class="extracted-field">
                                        <span class="field-name">itemId</span><span class="field-equals">=</span><span class="field-value">EST-7</span>
                                    </div>
                                </div>
                            </div>

                            <div class="extraction-note">
                                <span class="note-icon">üîç</span>
                                <div class="note-content">
                                    <h5>How Fields Are Recognized</h5>
                                    <p><strong>By sourcetype:</strong> The <code>access_combined</code> sourcetype knows that <code>200</code> in this position is a status code, creating <code>status=200</code></p>
                                    <p style="margin-top:8px;"><strong>By key=value pairs:</strong> The URL contains <code>action=purchase</code> which Splunk automatically extracts as a field</p>
                                </div>
                            </div>

                            <!-- Search Breakdown -->
                            <div class="search-breakdown">
                                <div class="search-breakdown-header">
                                    <i class="fas fa-code"></i> Search Breakdown Example
                                </div>
                                <div class="search-breakdown-body">
                                    <div class="search-line">
                                        <span class="line-code"><span class="field">index</span>=<span class="value">web</span></span>
                                        <span class="line-explain">Search only the "web" index</span>
                                    </div>
                                    <div class="search-line">
                                        <span class="line-code"><span class="field">sourcetype</span>=<span class="value">access_combined</span></span>
                                        <span class="line-explain">Only Apache access logs</span>
                                    </div>
                                    <div class="search-line">
                                        <span class="line-code"><span class="field">status</span>=<span class="value">200</span></span>
                                        <span class="line-explain">Successful HTTP responses</span>
                                    </div>
                                    <div class="search-line">
                                        <span class="line-code"><span class="field">action</span>=<span class="value">purchase</span></span>
                                        <span class="line-explain">Only purchase transactions</span>
                                    </div>
                                </div>
                            </div>

                            <div class="exam-tip">
                                <h5>‚ö° Search Performance Best Practices</h5>
                                <ul>
                                    <li><strong>Specify index:</strong> <code>index=main</code> NOT <code>index=*</code></li>
                                    <li><strong>Add sourcetype:</strong> Narrows data immediately</li>
                                    <li><strong>Use time bounds:</strong> <code>earliest=-1h</code></li>
                                    <li><strong>Filter early:</strong> Put restrictive filters first in pipeline</li>
                                </ul>
                            </div>
                        </div>

                        <!-- TIME MODIFIERS -->
                        <div id="d2-time" class="sub-content">
                            <h4><i class="fas fa-clock"></i> Time Range Modifiers</h4>

                            <div class="scenario-grid">
                                <div class="scenario-card">
                                    <span class="tag exam">Relative Time</span>
                                    <h5>Offset from Now</h5>
                                    <code>earliest=-1h</code>
                                    <code>earliest=-24h</code>
                                    <code>earliest=-7d</code>
                                    <code>earliest=-1mon</code>
                                    <p>s=sec, m=min, h=hour, d=day, w=week, mon=month</p>
                                </div>
                                <div class="scenario-card">
                                    <span class="tag exam">Snap-to (@)</span>
                                    <h5>Round to Boundary</h5>
                                    <code>earliest=-1d@d</code>
                                    <p>Go back 1 day, snap to midnight = Start of yesterday</p>
                                    <code>earliest=@d</code>
                                    <p>Start of today (midnight)</p>
                                </div>
                                <div class="scenario-card">
                                    <span class="tag exam">Absolute Time</span>
                                    <h5>Specific Date/Time</h5>
                                    <code>earliest="01/15/2024:00:00:00"</code>
                                    <code>latest="01/15/2024:23:59:59"</code>
                                    <p>Format: MM/DD/YYYY:HH:MM:SS</p>
                                </div>
                                <div class="scenario-card">
                                    <span class="tag tip">Common Patterns</span>
                                    <h5>Exam Favorites</h5>
                                    <code>earliest=-7d@d latest=@d</code>
                                    <p>Last 7 complete days (not including today)</p>
                                    <code>earliest=@w0 latest=now</code>
                                    <p>Since start of week (Sunday)</p>
                                </div>
                            </div>

                            <div class="exam-tip">
                                <h5>üí° Understanding @ (Snap-to)</h5>
                                <p><code>@</code> means "snap to the BEGINNING of"</p>
                                <ul>
                                    <li><code>@d</code> = snap to midnight (start of day)</li>
                                    <li><code>@h</code> = snap to start of hour</li>
                                    <li><code>@w0</code> = snap to Sunday (start of week)</li>
                                    <li><code>@mon</code> = snap to 1st of month</li>
                                </ul>
                                <p style="margin-top:10px;"><strong>Example:</strong> If it's 3:45 PM on Wednesday, <code>earliest=-1d@d</code> = Tuesday at 00:00:00</p>
                            </div>
                        </div>

                        <!-- BOOLEAN OPERATORS -->
                        <div id="d2-bool" class="sub-content">
                            <h4><i class="fas fa-filter"></i> Boolean Operators</h4>

                            <div class="raw-event-container">
                                <div class="raw-event-header">
                                    <i class="fas fa-search icon"></i>
                                    <span class="title">Boolean Search Examples</span>
                                </div>
                                <div class="raw-event-body" style="font-family: inherit;">
                                    <table class="cmd-table" style="margin:0;">
                                        <tr><th>Operator</th><th>Example</th><th>Result</th></tr>
                                        <tr>
                                            <td><strong style="color:#238636">AND</strong> (default)</td>
                                            <td><code>error timeout</code></td>
                                            <td>Events with BOTH "error" AND "timeout"</td>
                                        </tr>
                                        <tr>
                                            <td><strong style="color:#f0883e">OR</strong></td>
                                            <td><code>error OR warning OR critical</code></td>
                                            <td>Events with ANY of the terms (expands results)</td>
                                        </tr>
                                        <tr>
                                            <td><strong style="color:#da3633">NOT</strong></td>
                                            <td><code>error NOT debug</code></td>
                                            <td>Events with "error" but NOT "debug"</td>
                                        </tr>
                                        <tr>
                                            <td><strong style="color:#8957e5">Parentheses</strong></td>
                                            <td><code>(error OR warning) AND host=web*</code></td>
                                            <td>Group operators to control precedence</td>
                                        </tr>
                                    </table>
                                </div>
                            </div>

                            <div class="exam-tip">
                                <h5>Operator Precedence (highest ‚Üí lowest)</h5>
                                <p style="font-size:1.1em;"><code>( )</code> ‚Üí <code>NOT</code> ‚Üí <code>AND</code> ‚Üí <code>OR</code></p>
                                <p style="margin-top:8px;">Without parentheses: <code>error OR warning AND host=web*</code></p>
                                <p>Evaluates as: <code>error OR (warning AND host=web*)</code> ‚Äî probably NOT what you want!</p>
                            </div>
                        </div>

                        <!-- WILDCARDS -->
                        <div id="d2-wild" class="sub-content">
                            <h4><i class="fas fa-asterisk"></i> Wildcard Performance</h4>

                            <div class="scenario-grid">
                                <div class="scenario-card" style="border-color:#238636;">
                                    <span class="tag tip">‚úì FAST</span>
                                    <h5>Trailing Wildcard</h5>
                                    <code>error*</code>
                                    <p>Matches: error, errors, error404, errorMessage</p>
                                    <p style="color:#7ce38b;margin-top:8px;">‚úì Uses index efficiently</p>
                                </div>
                                <div class="scenario-card" style="border-color:#f0883e;">
                                    <span class="tag exam">‚ö†Ô∏è MODERATE</span>
                                    <h5>Middle Wildcard</h5>
                                    <code>web*prod</code>
                                    <p>Matches: web-prod, webserver-prod</p>
                                    <p style="color:#f0883e;margin-top:8px;">‚ö†Ô∏è Partial index use</p>
                                </div>
                                <div class="scenario-card" style="border-color:#da3633;">
                                    <span class="tag" style="background:#da3633;">‚úó SLOW</span>
                                    <h5>Leading Wildcard</h5>
                                    <code>*error</code>
                                    <p>Matches: myerror, systemerror</p>
                                    <p style="color:#f85149;margin-top:8px;">‚úó Full scan required - AVOID!</p>
                                </div>
                            </div>

                            <div class="sobeys-box">
                                <h5><i class="fas fa-store"></i> Sobeys Wildcard Examples</h5>
                                <code>host=store-* sourcetype=pos_*</code>
                                <p>All store hosts (store-001 through store-999), all POS sourcetypes</p>
                            </div>
                        </div>

                        <!-- SEARCH MODES -->
                        <div id="d2-modes" class="sub-content">
                            <h4><i class="fas fa-tachometer-alt"></i> Search Modes</h4>

                            <table class="cmd-table">
                                <tr>
                                    <th>Mode</th>
                                    <th>Field Discovery</th>
                                    <th>Speed</th>
                                    <th>Best For</th>
                                </tr>
                                <tr>
                                    <td><strong style="color:#da3633">Fast</strong></td>
                                    <td>Minimal (indexed fields only)</td>
                                    <td>‚ö° Fastest</td>
                                    <td>Dashboards, counts, when you don't need field details</td>
                                </tr>
                                <tr>
                                    <td><strong style="color:#f0883e">Smart</strong> (Default)</td>
                                    <td>Automatic based on search</td>
                                    <td>üîÑ Balanced</td>
                                    <td>Most searches - adapts automatically</td>
                                </tr>
                                <tr>
                                    <td><strong style="color:#238636">Verbose</strong></td>
                                    <td>Full (extracts ALL fields)</td>
                                    <td>üê¢ Slowest</td>
                                    <td>Data exploration, troubleshooting</td>
                                </tr>
                            </table>

                            <div class="exam-tip">
                                <h5>üí° Smart Mode Behavior</h5>
                                <p>Smart Mode automatically switches to Fast Mode behavior when you use <strong>transforming commands</strong> (stats, chart, timechart, top, rare) ‚Äî because raw event details aren't needed for aggregations.</p>
                            </div>
                        </div>

                        <!-- SOBEYS EXAMPLES -->
                        <div id="d2-sobeys" class="sub-content">
                            <h4><i class="fas fa-store"></i> Sobeys Search Scenarios</h4>

                            <div class="scenario-grid">
                                <div class="scenario-card">
                                    <span class="tag sobeys">POS Monitoring</span>
                                    <h5>Transaction Errors</h5>
                                    <code>index=pos sourcetype=pos_transactions status=error earliest=-1h</code>
                                    <p>Find all POS errors in the last hour</p>
                                </div>
                                <div class="scenario-card">
                                    <span class="tag sobeys">Fraud Detection</span>
                                    <h5>High-Value Voids</h5>
                                    <code>index=pos action=void amount>50 earliest=-24h</code>
                                    <p>Voids over $50 - potential fraud indicator</p>
                                </div>
                                <div class="scenario-card">
                                    <span class="tag sobeys">Network</span>
                                    <h5>Offline Stores</h5>
                                    <code>index=network host=store-* (status=down OR status=unreachable)</code>
                                    <p>Stores with connectivity issues</p>
                                </div>
                                <div class="scenario-card">
                                    <span class="tag sobeys">Payments</span>
                                    <h5>Declined Cards</h5>
                                    <code>index=payments response_code!=00 earliest=-4h | stats count by store_id</code>
                                    <p>Payment declines by store</p>
                                </div>
                                <div class="scenario-card">
                                    <span class="tag sobeys">Security</span>
                                    <h5>After-Hours Access</h5>
                                    <code>index=badge_access earliest=-1d@d latest=@d date_hour<6 OR date_hour>22</code>
                                    <p>Badge access outside business hours (yesterday)</p>
                                </div>
                                <div class="scenario-card">
                                    <span class="tag sobeys">Supply Chain</span>
                                    <h5>Delivery Exceptions</h5>
                                    <code>index=logistics (status=delayed OR status=exception) NOT status=resolved</code>
                                    <p>Active delivery issues</p>
                                </div>
                            </div>
                        </div>

                        <hr>
                        <h4><i class="fas fa-question-circle"></i> Practice Questions</h4>
                        
                        <div class="practice-q">
                            <div class="question">Q1: Which search is the MOST efficient?</div>
                            <ul class="options">
                                <li onclick="checkAnswer(this,false)">A) *error* | stats count</li>
                                <li onclick="checkAnswer(this,false)">B) sourcetype=* error</li>
                                <li onclick="checkAnswer(this,true)">C) index=main sourcetype=syslog error</li>
                                <li onclick="checkAnswer(this,false)">D) error | search index=main</li>
                            </ul>
                            <div class="answer-explanation"><strong style="color:#7ce38b">‚úì C)</strong> Specifying both <code>index</code> AND <code>sourcetype</code> early provides the best performance. Leading wildcards (*error) and wildcard sourcetype are inefficient.</div>
                        </div>

                        <div class="practice-q">
                            <div class="question">Q2: What does <code>earliest=-1d@d</code> mean?</div>
                            <ul class="options">
                                <li onclick="checkAnswer(this,false)">A) Exactly 24 hours ago</li>
                                <li onclick="checkAnswer(this,true)">B) The beginning of yesterday (midnight)</li>
                                <li onclick="checkAnswer(this,false)">C) One day from now</li>
                                <li onclick="checkAnswer(this,false)">D) The end of yesterday</li>
                            </ul>
                            <div class="answer-explanation"><strong style="color:#7ce38b">‚úì B)</strong> <code>-1d</code> = go back 1 day, <code>@d</code> = snap to beginning of that day (midnight). So <code>-1d@d</code> = start of yesterday at 00:00:00.</div>
                        </div>

                        <div class="practice-q">
                            <div class="question">Q3: What is the default Boolean operator when you type multiple terms?</div>
                            <ul class="options">
                                <li onclick="checkAnswer(this,true)">A) AND</li>
                                <li onclick="checkAnswer(this,false)">B) OR</li>
                                <li onclick="checkAnswer(this,false)">C) NOT</li>
                                <li onclick="checkAnswer(this,false)">D) NEAR</li>
                            </ul>
                            <div class="answer-explanation"><strong style="color:#7ce38b">‚úì A) AND</strong> When you type <code>error timeout</code>, Splunk treats it as <code>error AND timeout</code>. Both terms must exist in the event.</div>
                        </div>
                    </div>

                    <!-- DOMAIN 3: USING FIELDS (20%) -->
                    <div id="d3" class="tab-content">
                        <div class="domain-header">
                            <h3 class="domain-title"><i class="fas fa-columns"></i> Domain 3: Using Fields in Searches</h3>
                            <span class="domain-weight">20% (~12 questions)</span>
                        </div>

                        <div class="info-box info-box-warning">
                            <h4>‚ö†Ô∏è Second Highest Priority!</h4>
                            <p>Expect 11-12 questions on field types, comparisons, and manipulation.</p>
                        </div>

                        <!-- Real Event Field Extraction Demo -->
                        <h4><i class="fas fa-magic"></i> Understanding Field Extraction</h4>
                        
                        <div class="raw-event-container">
                            <div class="raw-event-header">
                                <i class="fas fa-shopping-cart icon"></i>
                                <span class="title">Sobeys POS Transaction Event</span>
                                <span class="meta">sourcetype=pos_transactions</span>
                            </div>
                            <div class="raw-event-body">
                                <span class="timestamp">2024-05-19 16:13:08.042</span> <span class="ip">store-pos-042</span> TXN: <span class="field-value">txn_id=TXN20240519161308</span> <span class="field-value">store_id=1847</span> <span class="field-value">register=REG03</span> <span class="field-value">cashier=emp_2341</span> <span class="field-value">action=purchase</span> <span class="field-value">amount=127.45</span> <span class="field-value">payment_type=visa</span> <span class="status">status=approved</span> items=12 <span class="field-value">customer_id=CUST_89234</span>
                            </div>
                        </div>

                        <div class="field-extraction">
                            <h4><i class="fas fa-layer-group"></i> Field Categories</h4>
                            
                            <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:16px;margin-top:16px;">
                                <!-- Default Fields -->
                                <div style="background:#0d1117;border:2px solid #238636;border-radius:8px;padding:14px;">
                                    <h5 style="color:#238636;margin:0 0 10px;">Default/Meta Fields</h5>
                                    <p style="color:#8b949e;font-size:0.85em;margin-bottom:10px;">Always available, instant access</p>
                                    <div class="extracted-field"><span class="field-name">_time</span><span class="field-equals">=</span><span class="field-value">1716134988</span></div>
                                    <div class="extracted-field"><span class="field-name">host</span><span class="field-equals">=</span><span class="field-value">store-pos-042</span></div>
                                    <div class="extracted-field"><span class="field-name">source</span><span class="field-equals">=</span><span class="field-value">/var/log/pos.log</span></div>
                                    <div class="extracted-field"><span class="field-name">sourcetype</span><span class="field-equals">=</span><span class="field-value">pos_transactions</span></div>
                                    <div class="extracted-field"><span class="field-name">index</span><span class="field-equals">=</span><span class="field-value">pos</span></div>
                                </div>
                                
                                <!-- Extracted Fields -->
                                <div style="background:#0d1117;border:2px solid #f0883e;border-radius:8px;padding:14px;">
                                    <h5 style="color:#f0883e;margin:0 0 10px;">Search-Time Extracted</h5>
                                    <p style="color:#8b949e;font-size:0.85em;margin-bottom:10px;">Extracted by key=value patterns</p>
                                    <div class="extracted-field highlight"><span class="field-name">action</span><span class="field-equals">=</span><span class="field-value">purchase</span></div>
                                    <div class="extracted-field highlight"><span class="field-name">amount</span><span class="field-equals">=</span><span class="field-value">127.45</span></div>
                                    <div class="extracted-field"><span class="field-name">store_id</span><span class="field-equals">=</span><span class="field-value">1847</span></div>
                                    <div class="extracted-field"><span class="field-name">payment_type</span><span class="field-equals">=</span><span class="field-value">visa</span></div>
                                    <div class="extracted-field"><span class="field-name">status</span><span class="field-equals">=</span><span class="field-value">approved</span></div>
                                </div>
                            </div>
                        </div>

                        <div class="extraction-note">
                            <span class="note-icon">üí°</span>
                            <div class="note-content">
                                <h5>How Splunk Recognizes Fields</h5>
                                <p><strong>Key=Value pairs:</strong> When Splunk sees <code>amount=127.45</code> in the raw event, it automatically creates a field named <code>amount</code> with value <code>127.45</code></p>
                                <p style="margin-top:6px;"><strong>Sourcetype knowledge:</strong> The <code>pos_transactions</code> sourcetype may have additional field extractions defined in <code>props.conf</code></p>
                            </div>
                        </div>

                        <!-- Field Comparison Operators -->
                        <h4><i class="fas fa-not-equal"></i> Field Comparison Operators</h4>
                        
                        <div class="search-breakdown">
                            <div class="search-breakdown-header">
                                <i class="fas fa-filter"></i> Comparison Examples
                            </div>
                            <div class="search-breakdown-body">
                                <div class="search-line">
                                    <span class="line-code"><span class="field">status</span><span class="operator">=</span><span class="value">approved</span></span>
                                    <span class="line-explain">Exact match (case SENSITIVE!)</span>
                                </div>
                                <div class="search-line">
                                    <span class="line-code"><span class="field">status</span><span class="operator">!=</span><span class="value">approved</span></span>
                                    <span class="line-explain">Not equal to</span>
                                </div>
                                <div class="search-line">
                                    <span class="line-code"><span class="field">amount</span><span class="operator">></span><span class="value">100</span></span>
                                    <span class="line-explain">Greater than (numeric)</span>
                                </div>
                                <div class="search-line">
                                    <span class="line-code"><span class="field">amount</span><span class="operator">>=</span><span class="value">50</span> <span class="field">amount</span><span class="operator"><=</span><span class="value">200</span></span>
                                    <span class="line-explain">Range: between 50 and 200</span>
                                </div>
                                <div class="search-line">
                                    <span class="line-code"><span class="field">host</span><span class="operator">=</span><span class="value">store-*</span></span>
                                    <span class="line-explain">Wildcard pattern match</span>
                                </div>
                                <div class="search-line">
                                    <span class="line-code"><span class="field">status</span> <span class="function">IN</span>(<span class="value">approved</span>, <span class="value">pending</span>)</span>
                                    <span class="line-explain">Match any in list</span>
                                </div>
                                <div class="search-line">
                                    <span class="line-code"><span class="field">customer_id</span><span class="operator">=</span><span class="value">*</span></span>
                                    <span class="line-explain">Field EXISTS (has any value)</span>
                                </div>
                                <div class="search-line">
                                    <span class="line-code"><span class="operator">NOT</span> <span class="field">customer_id</span><span class="operator">=</span><span class="value">*</span></span>
                                    <span class="line-explain">Field does NOT exist</span>
                                </div>
                            </div>
                        </div>

                        <div class="exam-tip">
                            <h5>üîë Case Sensitivity Rules</h5>
                            <p><strong>Field comparisons</strong> (<code>field=value</code>) are <span style="color:#f85149;">CASE SENSITIVE</span></p>
                            <p><code>status=APPROVED</code> will NOT match "approved" or "Approved"</p>
                            <p style="margin-top:8px;"><strong>Raw text search</strong> (just typing "error") is <span style="color:#7ce38b;">case INSENSITIVE</span></p>
                        </div>

                        <!-- Field Commands -->
                        <h4><i class="fas fa-terminal"></i> Field Commands</h4>
                        
                        <table class="cmd-table">
                            <tr><th>Command</th><th>Purpose</th><th>Example</th></tr>
                            <tr>
                                <td><code>fields</code></td>
                                <td>Include only specified fields (performance!)</td>
                                <td><code>| fields store_id, amount, status</code></td>
                            </tr>
                            <tr>
                                <td><code>fields -</code></td>
                                <td>Exclude specified fields</td>
                                <td><code>| fields - _raw, _time</code></td>
                            </tr>
                            <tr>
                                <td><code>rename</code></td>
                                <td>Rename fields in results</td>
                                <td><code>| rename store_id AS "Store ID"</code></td>
                            </tr>
                            <tr>
                                <td><code>table</code></td>
                                <td>Display as formatted table</td>
                                <td><code>| table _time, store_id, amount</code></td>
                            </tr>
                            <tr>
                                <td><code>dedup</code></td>
                                <td>Remove duplicate values</td>
                                <td><code>| dedup store_id</code></td>
                            </tr>
                            <tr>
                                <td><code>sort</code></td>
                                <td>Sort by field (- for descending)</td>
                                <td><code>| sort -amount, +store_id</code></td>
                            </tr>
                        </table>

                        <div class="extraction-note">
                            <span class="note-icon">‚ö°</span>
                            <div class="note-content">
                                <h5>fields vs table - Important Difference!</h5>
                                <p><code>fields</code> = <strong>Streaming command</strong> - filters fields early, improves performance</p>
                                <p><code>table</code> = <strong>Formatting command</strong> - creates output display, use at end</p>
                                <p style="margin-top:6px;"><strong>Best practice:</strong> Use <code>fields</code> early in pipeline to reduce data, then <code>table</code> at the end for display.</p>
                            </div>
                        </div>

                        <!-- Sobeys Examples -->
                        <div class="sobeys-box">
                            <h5><i class="fas fa-store"></i> Sobeys Field Usage Examples</h5>
                            <div class="scenario-grid">
                                <div class="scenario-card">
                                    <h5>Extract Key Fields</h5>
                                    <code>index=pos | fields store_id, register, amount, payment_type | table store_id, amount</code>
                                    <p>Get only needed fields, display in table</p>
                                </div>
                                <div class="scenario-card">
                                    <h5>Rename for Reports</h5>
                                    <code>| rename store_id AS "Store", amount AS "Sale Amount", cashier AS "Employee"</code>
                                    <p>Human-readable names for executives</p>
                                </div>
                                <div class="scenario-card">
                                    <h5>High-Value Transactions</h5>
                                    <code>index=pos amount>500 | sort -amount | table _time, store_id, amount, customer_id</code>
                                    <p>Large purchases sorted by amount</p>
                                </div>
                            </div>
                        </div>

                        <hr>
                        <h4><i class="fas fa-question-circle"></i> Practice Questions</h4>
                        
                        <div class="practice-q">
                            <div class="question">Q1: Which search finds events where the <code>customer_id</code> field EXISTS (has any value)?</div>
                            <ul class="options">
                                <li onclick="checkAnswer(this,false)">A) customer_id!=null</li>
                                <li onclick="checkAnswer(this,true)">B) customer_id=*</li>
                                <li onclick="checkAnswer(this,false)">C) customer_id!=""</li>
                                <li onclick="checkAnswer(this,false)">D) NOT customer_id=null</li>
                            </ul>
                            <div class="answer-explanation"><strong style="color:#7ce38b">‚úì B) customer_id=*</strong><br>The wildcard <code>*</code> matches events where the field exists with any value. This is the standard Splunk pattern for checking field existence.</div>
                        </div>

                        <div class="practice-q">
                            <div class="question">Q2: Is the search <code>status=APPROVED</code> case sensitive?</div>
                            <ul class="options">
                                <li onclick="checkAnswer(this,true)">A) Yes - field=value comparisons are case sensitive</li>
                                <li onclick="checkAnswer(this,false)">B) No - Splunk ignores case in all searches</li>
                                <li onclick="checkAnswer(this,false)">C) Only for numeric fields</li>
                                <li onclick="checkAnswer(this,false)">D) Depends on the index settings</li>
                            </ul>
                            <div class="answer-explanation"><strong style="color:#7ce38b">‚úì A)</strong> Field comparisons (<code>field=value</code>) are CASE SENSITIVE. <code>status=APPROVED</code> won't match "approved".<br>However, raw text searches (just typing "error") are case insensitive.</div>
                        </div>

                        <div class="practice-q">
                            <div class="question">Q3: What's the difference between <code>| fields user</code> and <code>| table user</code>?</div>
                            <ul class="options">
                                <li onclick="checkAnswer(this,false)">A) They are identical</li>
                                <li onclick="checkAnswer(this,true)">B) fields filters internally for performance; table formats output display</li>
                                <li onclick="checkAnswer(this,false)">C) table can only show one field</li>
                                <li onclick="checkAnswer(this,false)">D) fields removes the field; table adds it</li>
                            </ul>
                            <div class="answer-explanation"><strong style="color:#7ce38b">‚úì B)</strong><br><code>fields</code> = streaming command that filters fields early (improves performance)<br><code>table</code> = formatting command that creates tabular output for display<br>Best practice: Use <code>fields</code> early to reduce data, <code>table</code> at end for display.</div>
                        </div>
                    </div>

                    <!-- DOMAIN 4: SPL FUNDAMENTALS (17%) -->
                    <div id="d4" class="tab-content">
                        <div class="domain-header">
                            <h3 class="domain-title"><i class="fas fa-terminal"></i> Domain 4: Search Language Fundamentals</h3>
                            <span class="domain-weight">17% (~10 questions)</span>
                        </div>

                        <div class="info-box info-box-tip">
                            <h4>Exam Objectives</h4>
                            <ul>
                                <li><strong>4.1</strong> Understand the search pipeline</li>
                                <li><strong>4.2</strong> Use the eval command to calculate values</li>
                                <li><strong>4.3</strong> Use eval functions</li>
                                <li><strong>4.4</strong> Use search/where commands to filter</li>
                            </ul>
                        </div>

                        <!-- Pipeline Visualization -->
                        <h4><i class="fas fa-stream"></i> The SPL Pipeline</h4>
                        
                        <div class="flow-diagram">
                            <h4>Data flows through the pipeline: each command processes output of the previous</h4>
                            <svg viewBox="0 0 800 100" class="flow-svg">
                                <rect x="10" y="30" width="120" height="40" rx="6" fill="#1a1f35" stroke="#58a6ff" stroke-width="2"/>
                                <text x="70" y="55" fill="#58a6ff" text-anchor="middle" font-size="10" font-weight="bold">Search</text>
                                
                                <text x="145" y="55" fill="#58a6ff" font-size="20" font-weight="bold">|</text>
                                
                                <rect x="160" y="30" width="120" height="40" rx="6" fill="#1a1f35" stroke="#238636" stroke-width="2"/>
                                <text x="220" y="55" fill="#238636" text-anchor="middle" font-size="10" font-weight="bold">Filter</text>
                                
                                <text x="295" y="55" fill="#58a6ff" font-size="20" font-weight="bold">|</text>
                                
                                <rect x="310" y="30" width="120" height="40" rx="6" fill="#1a1f35" stroke="#f0883e" stroke-width="2"/>
                                <text x="370" y="55" fill="#f0883e" text-anchor="middle" font-size="10" font-weight="bold">Transform</text>
                                
                                <text x="445" y="55" fill="#58a6ff" font-size="20" font-weight="bold">|</text>
                                
                                <rect x="460" y="30" width="120" height="40" rx="6" fill="#1a1f35" stroke="#8957e5" stroke-width="2"/>
                                <text x="520" y="55" fill="#8957e5" text-anchor="middle" font-size="10" font-weight="bold">Aggregate</text>
                                
                                <text x="595" y="55" fill="#58a6ff" font-size="20" font-weight="bold">|</text>
                                
                                <rect x="610" y="30" width="100" height="40" rx="6" fill="#238636"/>
                                <text x="660" y="55" fill="white" text-anchor="middle" font-size="10" font-weight="bold">Output</text>
                            </svg>
                        </div>

                        <!-- Complete Search Example -->
                        <div class="search-breakdown">
                            <div class="search-breakdown-header">
                                <i class="fas fa-code"></i> Complete Pipeline Example: Sobeys Daily Sales Report
                            </div>
                            <div class="search-breakdown-body">
                                <div class="search-line">
                                    <span class="line-num">1</span>
                                    <span class="line-code"><span class="field">index</span>=<span class="value">pos</span> <span class="field">sourcetype</span>=<span class="value">pos_transactions</span></span>
                                    <span class="line-explain">Base search - POS data</span>
                                </div>
                                <div class="search-line">
                                    <span class="line-num">2</span>
                                    <span class="line-code"><span class="operator">|</span> <span class="cmd">where</span> <span class="field">amount</span> > <span class="value">0</span></span>
                                    <span class="line-explain">Filter: only actual sales</span>
                                </div>
                                <div class="search-line">
                                    <span class="line-num">3</span>
                                    <span class="line-code"><span class="operator">|</span> <span class="cmd">eval</span> <span class="field">sale_category</span> = <span class="function">case</span>(<span class="field">amount</span>><span class="value">200</span>,<span class="value">"Large"</span>, <span class="field">amount</span>><span class="value">50</span>,<span class="value">"Medium"</span>, <span class="value">1=1</span>,<span class="value">"Small"</span>)</span>
                                    <span class="line-explain">Transform: categorize by size</span>
                                </div>
                                <div class="search-line">
                                    <span class="line-num">4</span>
                                    <span class="line-code"><span class="operator">|</span> <span class="cmd">stats</span> <span class="function">sum</span>(<span class="field">amount</span>) <span class="operator">AS</span> <span class="field">total_sales</span>, <span class="function">count</span> <span class="operator">AS</span> <span class="field">transactions</span> <span class="operator">BY</span> <span class="field">store_id</span>, <span class="field">sale_category</span></span>
                                    <span class="line-explain">Aggregate: sum & count by store</span>
                                </div>
                                <div class="search-line">
                                    <span class="line-num">5</span>
                                    <span class="line-code"><span class="operator">|</span> <span class="cmd">sort</span> <span class="operator">-</span><span class="field">total_sales</span></span>
                                    <span class="line-explain">Output: highest sales first</span>
                                </div>
                            </div>
                        </div>

                        <!-- Eval Functions -->
                        <h4><i class="fas fa-calculator"></i> Essential Eval Functions</h4>
                        
                        <div class="cheat-sheet">
                            <h4>Most Common Eval Functions (Exam Favorites!)</h4>
                            <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;">
                                <!-- Conditional -->
                                <div style="background:#161b22;padding:12px;border-radius:6px;border-left:3px solid #da3633;">
                                    <strong style="color:#da3633;">Conditional</strong>
                                    <div style="margin-top:8px;font-size:0.85em;">
                                        <code>if(condition, true, false)</code><br>
                                        <code>case(c1,v1, c2,v2, 1=1,default)</code><br>
                                        <code>coalesce(f1, f2, default)</code>
                                    </div>
                                </div>
                                <!-- Math -->
                                <div style="background:#161b22;padding:12px;border-radius:6px;border-left:3px solid #238636;">
                                    <strong style="color:#238636;">Math</strong>
                                    <div style="margin-top:8px;font-size:0.85em;">
                                        <code>round(num, decimals)</code><br>
                                        <code>ceil(num), floor(num)</code><br>
                                        <code>abs(num), sqrt(num)</code>
                                    </div>
                                </div>
                                <!-- String -->
                                <div style="background:#161b22;padding:12px;border-radius:6px;border-left:3px solid #f0883e;">
                                    <strong style="color:#f0883e;">String</strong>
                                    <div style="margin-top:8px;font-size:0.85em;">
                                        <code>lower(str), upper(str)</code><br>
                                        <code>len(str), substr(str,s,l)</code><br>
                                        <code>split(str, delim)</code>
                                    </div>
                                </div>
                                <!-- Time -->
                                <div style="background:#161b22;padding:12px;border-radius:6px;border-left:3px solid #8957e5;">
                                    <strong style="color:#8957e5;">Time</strong>
                                    <div style="margin-top:8px;font-size:0.85em;">
                                        <code>now()</code> ‚Üí current epoch<br>
                                        <code>strftime(_time, "%H")</code><br>
                                        <code>strptime(str, format)</code>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Conditional Examples -->
                        <h4><i class="fas fa-code-branch"></i> Conditional Logic Examples</h4>
                        
                        <div class="scenario-grid">
                            <div class="scenario-card">
                                <span class="tag exam">if()</span>
                                <h5>Binary Decision</h5>
                                <code>| eval is_error = if(status>=400, "yes", "no")</code>
                                <p>Single true/false decision</p>
                            </div>
                            <div class="scenario-card">
                                <span class="tag exam">case()</span>
                                <h5>Multiple Conditions</h5>
                                <code>| eval grade = case(score>=90,"A", score>=80,"B", score>=70,"C", 1=1,"F")</code>
                                <p><code>1=1</code> = default/else (always true)</p>
                            </div>
                            <div class="scenario-card">
                                <span class="tag exam">coalesce()</span>
                                <h5>First Non-Null</h5>
                                <code>| eval name = coalesce(display_name, username, email, "Guest")</code>
                                <p>Returns first field that has a value</p>
                            </div>
                            <div class="scenario-card">
                                <span class="tag sobeys">Sobeys</span>
                                <h5>Transaction Sizing</h5>
                                <code>| eval size = case(amount>200,"Large", amount>50,"Medium", 1=1,"Small")</code>
                                <p>Categorize sales by dollar amount</p>
                            </div>
                        </div>

                        <!-- strftime codes -->
                        <div class="exam-tip">
                            <h5>üìÖ strftime Format Codes (Common Exam Questions!)</h5>
                            <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:8px;margin-top:10px;">
                                <code>%Y</code> ‚Üí 2024 (year)
                                <code>%m</code> ‚Üí 01-12 (month)
                                <code>%d</code> ‚Üí 01-31 (day)
                                <code>%H</code> ‚Üí 00-23 (hour)
                                <code>%M</code> ‚Üí 00-59 (minute)
                                <code>%S</code> ‚Üí 00-59 (second)
                                <code>%A</code> ‚Üí Monday (day name)
                                <code>%B</code> ‚Üí January (month name)
                            </div>
                            <p style="margin-top:12px;"><strong>Example:</strong> <code>| eval hour = strftime(_time, "%H")</code> extracts just the hour (00-23)</p>
                        </div>

                        <!-- search vs where -->
                        <h4><i class="fas fa-filter"></i> Filtering: search vs where</h4>
                        
                        <table class="cmd-table">
                            <tr><th>Capability</th><th>search</th><th>where</th></tr>
                            <tr>
                                <td><strong>Wildcards</strong></td>
                                <td style="color:#7ce38b;">‚úì <code>host=web*</code></td>
                                <td style="color:#f85149;">‚úó Use like(): <code>where like(host,"web%")</code></td>
                            </tr>
                            <tr>
                                <td><strong>Compare two fields</strong></td>
                                <td style="color:#f85149;">‚úó Cannot do</td>
                                <td style="color:#7ce38b;">‚úì <code>where bytes_in > bytes_out</code></td>
                            </tr>
                            <tr>
                                <td><strong>Use functions</strong></td>
                                <td style="color:#f85149;">‚úó No functions</td>
                                <td style="color:#7ce38b;">‚úì <code>where len(username) > 20</code></td>
                            </tr>
                            <tr>
                                <td><strong>Best for</strong></td>
                                <td>Simple filtering, pattern matching</td>
                                <td>Complex conditions, field comparisons, functions</td>
                            </tr>
                        </table>

                        <div class="extraction-note">
                            <span class="note-icon">üîë</span>
                            <div class="note-content">
                                <h5>Decision Guide: search or where?</h5>
                                <p><strong>Need wildcards?</strong> ‚Üí Use <code>search</code> (or <code>where like()</code>)</p>
                                <p><strong>Compare two fields?</strong> ‚Üí Must use <code>where</code></p>
                                <p><strong>Use a function?</strong> ‚Üí Must use <code>where</code></p>
                                <p><strong>Simple value match?</strong> ‚Üí Either works, <code>search</code> is more intuitive</p>
                            </div>
                        </div>

                        <hr>
                        <h4><i class="fas fa-question-circle"></i> Practice Questions</h4>
                        
                        <div class="practice-q">
                            <div class="question">Q1: What does this eval produce?<br><code>| eval result = if(isnull(user), "anonymous", user)</code></div>
                            <ul class="options">
                                <li onclick="checkAnswer(this,false)">A) Always returns "anonymous"</li>
                                <li onclick="checkAnswer(this,false)">B) Returns null if user is null</li>
                                <li onclick="checkAnswer(this,true)">C) Returns "anonymous" if user is null, otherwise returns user value</li>
                                <li onclick="checkAnswer(this,false)">D) Returns an error</li>
                            </ul>
                            <div class="answer-explanation"><strong style="color:#7ce38b">‚úì C)</strong> The <code>if()</code> checks if user is null. If true (user is null), returns "anonymous". If false (user has a value), returns the actual user value.</div>
                        </div>

                        <div class="practice-q">
                            <div class="question">Q2: In <code>case()</code>, what does <code>1=1</code> do as the last condition?</div>
                            <ul class="options">
                                <li onclick="checkAnswer(this,false)">A) Causes an error</li>
                                <li onclick="checkAnswer(this,false)">B) Returns the number 1</li>
                                <li onclick="checkAnswer(this,true)">C) Acts as default/else - always true if no other conditions matched</li>
                                <li onclick="checkAnswer(this,false)">D) Compares two fields both named "1"</li>
                            </ul>
                            <div class="answer-explanation"><strong style="color:#7ce38b">‚úì C)</strong> <code>1=1</code> is always true. Placed as the last condition in <code>case()</code>, it acts as the "else" clause - if no previous conditions matched, this one will.</div>
                        </div>

                        <div class="practice-q">
                            <div class="question">Q3: Which command can compare two fields (e.g., bytes_in > bytes_out)?</div>
                            <ul class="options">
                                <li onclick="checkAnswer(this,false)">A) search</li>
                                <li onclick="checkAnswer(this,true)">B) where</li>
                                <li onclick="checkAnswer(this,false)">C) Both search and where</li>
                                <li onclick="checkAnswer(this,false)">D) Neither - you need eval first</li>
                            </ul>
                            <div class="answer-explanation"><strong style="color:#7ce38b">‚úì B) where</strong> Only <code>where</code> can compare two fields. <code>search</code> can only compare a field to a literal value.<br>Example: <code>| where bytes_in > bytes_out</code></div>
                        </div>

                        <div class="practice-q">
                            <div class="question">Q4: What does <code>strftime(_time, "%H")</code> return?</div>
                            <ul class="options">
                                <li onclick="checkAnswer(this,false)">A) The full date and time</li>
                                <li onclick="checkAnswer(this,true)">B) The hour (00-23)</li>
                                <li onclick="checkAnswer(this,false)">C) The minute</li>
                                <li onclick="checkAnswer(this,false)">D) The epoch timestamp</li>
                            </ul>
                            <div class="answer-explanation"><strong style="color:#7ce38b">‚úì B)</strong> <code>%H</code> is the strftime format code for hour in 24-hour format (00-23). This is a common exam question!</div>
                        </div>
                    </div>

                    <!-- DOMAIN 5: TRANSFORMING COMMANDS (15%) -->
                    <div id="d5" class="tab-content">
                        <div class="domain-header">
                            <h3 class="domain-title"><i class="fas fa-chart-bar"></i> Domain 5: Transforming Commands</h3>
                            <span class="domain-weight">15% (~9 questions)</span>
                        </div>

                        <div class="info-box info-box-tip">
                            <h4>Exam Objectives</h4>
                            <ul>
                                <li><strong>5.1</strong> Use the top command</li>
                                <li><strong>5.2</strong> Use the rare command</li>
                                <li><strong>5.3</strong> Use the stats command</li>
                                <li><strong>5.4</strong> Use the chart command</li>
                                <li><strong>5.5</strong> Use the timechart command</li>
                            </ul>
                        </div>

                        <!-- Real Example with stats -->
                        <h4><i class="fas fa-table"></i> Transforming Commands Turn Events Into Statistics</h4>
                        
                        <div class="raw-event-container">
                            <div class="raw-event-header">
                                <i class="fas fa-exchange-alt icon"></i>
                                <span class="title">Before: Raw Events</span>
                            </div>
                            <div class="raw-event-body" style="font-size:0.8em;">
                                <div>2024-05-19 16:13:08 store_id=1001 amount=45.00 payment=visa</div>
                                <div>2024-05-19 16:13:09 store_id=1001 amount=127.50 payment=cash</div>
                                <div>2024-05-19 16:13:10 store_id=1002 amount=89.00 payment=visa</div>
                                <div>2024-05-19 16:13:11 store_id=1001 amount=23.00 payment=debit</div>
                                <div style="color:#6e7681;">... thousands more events ...</div>
                            </div>
                        </div>

                        <div class="extraction-arrow"><span>| stats sum(amount) BY store_id</span></div>

                        <div class="field-extraction">
                            <h4 style="color:#7ce38b;"><i class="fas fa-table"></i> After: Aggregated Statistics</h4>
                            <table class="cmd-table" style="max-width:400px;">
                                <tr><th>store_id</th><th>sum(amount)</th></tr>
                                <tr><td>1001</td><td>195.50</td></tr>
                                <tr><td>1002</td><td>89.00</td></tr>
                            </table>
                        </div>

                        <!-- Command Selection -->
                        <div class="decision-tree">
                            <h4><i class="fas fa-code-branch"></i> Which Transforming Command?</h4>
                            <table class="cmd-table">
                                <tr><th>Need</th><th>Command</th><th>Example</th></tr>
                                <tr>
                                    <td>Most common values</td>
                                    <td><code>top</code></td>
                                    <td><code>| top 10 store_id</code></td>
                                </tr>
                                <tr>
                                    <td>Least common values</td>
                                    <td><code>rare</code></td>
                                    <td><code>| rare error_code</code></td>
                                </tr>
                                <tr>
                                    <td>Custom aggregation</td>
                                    <td><code>stats</code></td>
                                    <td><code>| stats sum(amount), count BY store_id</code></td>
                                </tr>
                                <tr>
                                    <td>2D table (X BY Y)</td>
                                    <td><code>chart</code></td>
                                    <td><code>| chart count BY status, host</code></td>
                                </tr>
                                <tr>
                                    <td>Time-series trend</td>
                                    <td><code>timechart</code></td>
                                    <td><code>| timechart span=1h sum(amount) BY payment_type</code></td>
                                </tr>
                            </table>
                        </div>

                        <!-- Stats Functions -->
                        <div class="cheat-sheet">
                            <h4>Stats Functions</h4>
                            <div class="cheat-grid">
                                <div class="cheat-item"><strong>count</strong><br>Number of events</div>
                                <div class="cheat-item"><strong>dc(field)</strong><br>Distinct count</div>
                                <div class="cheat-item"><strong>sum(field)</strong><br>Total of values</div>
                                <div class="cheat-item"><strong>avg(field)</strong><br>Average value</div>
                                <div class="cheat-item"><strong>min/max</strong><br>Min/max values</div>
                                <div class="cheat-item"><strong>values()</strong><br>Unique values list</div>
                                <div class="cheat-item"><strong>list()</strong><br>All values (with dupes)</div>
                                <div class="cheat-item"><strong>earliest/latest</strong><br>First/last by time</div>
                            </div>
                        </div>

                        <div class="sobeys-box">
                            <h5><i class="fas fa-store"></i> Sobeys Examples</h5>
                            <div class="scenario-grid">
                                <div class="scenario-card">
                                    <h5>Daily Sales by Store</h5>
                                    <code>index=pos | stats sum(amount) AS total_sales, count AS transactions BY store_id | sort -total_sales</code>
                                </div>
                                <div class="scenario-card">
                                    <h5>Hourly Transaction Trend</h5>
                                    <code>index=pos | timechart span=1h count BY payment_type</code>
                                </div>
                                <div class="scenario-card">
                                    <h5>Top 20 Products</h5>
                                    <code>index=pos | top 20 product_id showperc=false</code>
                                </div>
                            </div>
                        </div>

                        <hr>
                        <div class="practice-q">
                            <div class="question">Q: To show average response time per hour for the last 24 hours, use:</div>
                            <ul class="options">
                                <li onclick="checkAnswer(this,false)">A) | stats avg(response_time) BY hour</li>
                                <li onclick="checkAnswer(this,true)">B) | timechart span=1h avg(response_time)</li>
                                <li onclick="checkAnswer(this,false)">C) | chart avg(response_time) BY _time</li>
                                <li onclick="checkAnswer(this,false)">D) | top response_time</li>
                            </ul>
                            <div class="answer-explanation"><strong style="color:#7ce38b">‚úì B)</strong> <code>timechart</code> is perfect for time-based trends. <code>span=1h</code> creates hourly buckets.</div>
                        </div>
                    </div>

                    <!-- DOMAIN 6: KNOWLEDGE OBJECTS (8%) -->
                    <div id="d6" class="tab-content">
                        <div class="domain-header">
                            <h3 class="domain-title"><i class="fas fa-brain"></i> Domain 6: Knowledge Objects</h3>
                            <span class="domain-weight">8% (~5 questions)</span>
                        </div>

                        <h4><i class="fas fa-layer-group"></i> Knowledge Object Types</h4>
                        
                        <table class="cmd-table">
                            <tr><th>Type</th><th>Purpose</th><th>Example</th></tr>
                            <tr><td><strong>Event Type</strong></td><td>Categorize events by search</td><td><code>eventtype=failed_login</code></td></tr>
                            <tr><td><strong>Tags</strong></td><td>Label field values</td><td><code>tag=authentication</code></td></tr>
                            <tr><td><strong>Macros</strong></td><td>Reusable search snippets</td><td><code>`get_errors`</code> or <code>`get_logs(ERROR)`</code></td></tr>
                            <tr><td><strong>Lookups</strong></td><td>Enrich from external tables</td><td><code>| lookup users.csv user OUTPUT dept</code></td></tr>
                            <tr><td><strong>Calculated Fields</strong></td><td>Auto-computed fields</td><td><code>EVAL-mb = bytes/1024/1024</code> in props.conf</td></tr>
                            <tr><td><strong>Field Aliases</strong></td><td>Alternative names</td><td><code>FIELDALIAS-ip = src_ip AS ip</code></td></tr>
                        </table>

                        <div class="exam-tip">
                            <h5>Lookup Commands</h5>
                            <p><code>| lookup</code> = Enrich search results with lookup data</p>
                            <p><code>| inputlookup</code> = Read entire lookup file as search results</p>
                            <p><code>| outputlookup</code> = Write search results to lookup file</p>
                        </div>

                        <div class="sobeys-box">
                            <h5><i class="fas fa-store"></i> Sobeys Lookup Example</h5>
                            <code>index=pos | lookup store_info.csv store_id OUTPUT region, manager, address | stats sum(amount) BY region</code>
                            <p>Enrich POS data with store details, then aggregate by region</p>
                        </div>
                    </div>

                    <!-- DOMAIN 7: FIELD EXTRACTIONS (5%) -->
                    <div id="d7" class="tab-content">
                        <div class="domain-header">
                            <h3 class="domain-title"><i class="fas fa-cut"></i> Domain 7: Field Extractions</h3>
                            <span class="domain-weight">5% (~3 questions)</span>
                        </div>

                        <h4><i class="fas fa-magic"></i> The Rex Command</h4>
                        
                        <div class="raw-event-container">
                            <div class="raw-event-header">
                                <i class="fas fa-file-alt icon"></i>
                                <span class="title">Raw Event</span>
                            </div>
                            <div class="raw-event-body">
                                User <span class="field-value">john.smith@sobeys.com</span> logged in from <span class="ip">192.168.1.45</span> at 2024-05-19 16:13:08
                            </div>
                        </div>

                        <div class="extraction-arrow"><span>| rex "User (?&lt;username&gt;[^\s]+)"</span></div>

                        <div class="field-extraction">
                            <h4 style="color:#7ce38b;"><i class="fas fa-check-circle"></i> Extracted Field</h4>
                            <div class="extracted-field highlight"><span class="field-name">username</span><span class="field-equals">=</span><span class="field-value">john.smith@sobeys.com</span></div>
                        </div>

                        <h4>Common Rex Patterns</h4>
                        <table class="cmd-table">
                            <tr><th>Pattern</th><th>Example</th><th>Matches</th></tr>
                            <tr><td>Named capture</td><td><code>| rex "user=(?&lt;username&gt;\w+)"</code></td><td>Extract username field</td></tr>
                            <tr><td>IP address</td><td><code>| rex "(?&lt;ip&gt;\d+\.\d+\.\d+\.\d+)"</code></td><td>Any IP in event</td></tr>
                            <tr><td>Email</td><td><code>| rex "(?&lt;email&gt;[\w.]+@[\w.]+)"</code></td><td>Email addresses</td></tr>
                            <tr><td>From specific field</td><td><code>| rex field=url "action=(?&lt;action&gt;\w+)"</code></td><td>Extract from URL field</td></tr>
                        </table>

                        <div class="cheat-sheet">
                            <h4>Regex Quick Reference</h4>
                            <div class="cheat-grid">
                                <div class="cheat-item"><code>\w</code> = word char (a-z,0-9,_)</div>
                                <div class="cheat-item"><code>\d</code> = digit (0-9)</div>
                                <div class="cheat-item"><code>\s</code> = whitespace</div>
                                <div class="cheat-item"><code>+</code> = one or more</div>
                                <div class="cheat-item"><code>*</code> = zero or more</div>
                                <div class="cheat-item"><code>?</code> = optional</div>
                                <div class="cheat-item"><code>[^x]+</code> = until char x</div>
                                <div class="cheat-item"><code>(?&lt;name&gt;...)</code> = named group</div>
                            </div>
                        </div>
                    </div>

                    <!-- DOMAIN 8: DATA MODELS (8%) -->
                    <div id="d8" class="tab-content">
                        <div class="domain-header">
                            <h3 class="domain-title"><i class="fas fa-cubes"></i> Domain 8: Data Models</h3>
                            <span class="domain-weight">8% (~5 questions)</span>
                        </div>

                        <h4><i class="fas fa-bolt"></i> tstats: Lightning-Fast Searches</h4>
                        
                        <table class="cmd-table">
                            <tr><th>Aspect</th><th>stats</th><th>tstats</th></tr>
                            <tr><td><strong>Data Source</strong></td><td>Raw events</td><td>Accelerated data models (tsidx)</td></tr>
                            <tr><td><strong>Speed</strong></td><td>Slower - scans raw events</td><td>10-100x faster - pre-computed</td></tr>
                            <tr><td><strong>Syntax</strong></td><td><code>| stats count BY user</code></td><td><code>| tstats count FROM datamodel=Auth BY Auth.user</code></td></tr>
                            <tr><td><strong>Best For</strong></td><td>Ad-hoc, any data</td><td>Dashboards, ES correlations</td></tr>
                        </table>

                        <div class="scenario-grid">
                            <div class="scenario-card">
                                <span class="tag exam">tstats Example</span>
                                <h5>Authentication Count</h5>
                                <code>| tstats count FROM datamodel=Authentication BY Authentication.user</code>
                            </div>
                            <div class="scenario-card">
                                <span class="tag exam">With Filter</span>
                                <h5>Failed Logins</h5>
                                <code>| tstats count FROM datamodel=Authentication WHERE Authentication.action=failure BY Authentication.src</code>
                            </div>
                            <div class="scenario-card">
                                <span class="tag sobeys">Network Traffic</span>
                                <h5>Bytes by Destination</h5>
                                <code>| tstats sum(All_Traffic.bytes) FROM datamodel=Network_Traffic BY All_Traffic.dest_ip</code>
                            </div>
                        </div>

                        <div class="exam-tip">
                            <h5>üí° Why tstats is Faster</h5>
                            <p><code>tstats</code> searches <strong>pre-computed summaries</strong> (tsidx files) instead of raw events. This requires data model acceleration to be enabled. Used extensively in Enterprise Security for dashboard performance.</p>
                        </div>
                    </div>

                </div><!-- End tab-container -->

                <!-- Final Study Tips -->
                <div class="exam-tip">
                    <h4><i class="fas fa-graduation-cap"></i> Final Exam Preparation</h4>
                    <ul>
                        <li><strong>Focus on high-weight domains:</strong> Search (22%) + Fields (20%) + SPL (17%) + Transform (15%) = 74% of exam</li>
                        <li><strong>Practice hands-on:</strong> Use the <a href="lab-exercises.html">Lab Exercises</a></li>
                        <li><strong>Time management:</strong> 58 questions in 57 minutes = ~1 minute per question</li>
                        <li><strong>Watch for keywords:</strong> "most efficient", "best", "only", "first"</li>
                        <li><strong>Know eval functions:</strong> if(), case(), round(), strftime() appear frequently</li>
                        <li><strong>search vs where:</strong> Know when to use each (wildcards vs field comparison)</li>
                    </ul>
                </div>

                <h2><i class="fas fa-link"></i> Related Resources</h2>
                <ul>
                    <li><a href="lab-exercises.html">Hands-On Lab Exercises (25 Labs)</a></li>
                    <li><a href="admin-certification.html">Admin Certification Guide</a></li>
                    <li><a href="spl-fundamentals.html">SPL Fundamentals Reference</a></li>
                    <li><a href="knowledge-objects.html">Knowledge Objects Deep Dive</a></li>
                    <li><a href="data-models.html">Data Models & CIM</a></li>
                </ul>

            </main>
        </div>
    </div>

    <script>
        function openTab(evt, tabId) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            if (evt && evt.currentTarget) evt.currentTarget.classList.add('active');
            else document.querySelectorAll('.tab-btn').forEach(b => { if(b.getAttribute('onclick')?.includes(tabId)) b.classList.add('active'); });
            const tc = document.getElementById(tabId);
            if(tc) {
                tc.querySelectorAll('.sub-content').forEach((s,i) => s.classList.toggle('active', i===0));
                tc.querySelectorAll('.sub-tab').forEach((s,i) => s.classList.toggle('active', i===0));
            }
        }
        function openSubTab(evt, subId, parentId) {
            const p = document.getElementById(parentId);
            if(p) {
                p.querySelectorAll('.sub-content').forEach(s => s.classList.remove('active'));
                p.querySelectorAll('.sub-tab').forEach(s => s.classList.remove('active'));
            }
            document.getElementById(subId).classList.add('active');
            evt.currentTarget.classList.add('active');
        }
        function checkAnswer(el, correct) {
            const opts = el.parentElement.querySelectorAll('li');
            opts.forEach(o => { o.style.background='#0d1117'; o.style.borderColor='transparent'; });
            if(correct) { el.style.background='#1a472a'; el.style.borderColor='#238636'; }
            else { el.style.background='#3d1a1a'; el.style.borderColor='#da3633'; opts.forEach(o => { if(o.getAttribute('onclick')?.includes('true')) { o.style.background='#1a472a'; o.style.borderColor='#238636'; }}); }
            const exp = el.parentElement.nextElementSibling;
            if(exp?.classList.contains('answer-explanation')) exp.style.display='block';
        }
    </script>
</body>
</html>
